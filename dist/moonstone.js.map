{"version":3,"sources":["lib/moonstone/src/options.js","lib/moonstone/src/i18n.js","lib/moonstone/src/fonts.js","lib/moonstone/src/resolution.js","lib/moonstone/index.js","lib/moonstone/src/BodyText/BodyText.js","lib/moonstone/src/HistorySupport/HistorySupport.js","lib/moonstone/src/MoonAnimator/MoonAnimator.js","lib/moonstone/src/MoonArranger/MoonArranger.js","lib/moonstone/src/StyleAnimator/StyleAnimator.js","lib/moonstone/src/Icon/Icon.js","lib/moonstone/src/Tooltip/Tooltip.js","lib/moonstone/src/RichText/RichText.js","lib/moonstone/src/TextArea/TextArea.js","lib/moonstone/src/HighlightText/HighlightText.js","lib/moonstone/src/Input/Input.js","lib/moonstone/src/IconButton/IconButton.js","lib/moonstone/src/Marquee/Marquee.js","lib/moonstone/src/InputDecorator/InputDecorator.js","lib/moonstone/src/Button/Button.js","lib/moonstone/src/Header/Header.js","lib/moonstone/src/TooltipDecorator/TooltipDecorator.js","lib/moonstone/src/Panel/Panel.js","lib/moonstone/src/ApplicationCloseButton/ApplicationCloseButton.js","lib/moonstone/src/Panels/Panels.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACthBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3vCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"generated.js","sourceRoot":"","sourcesContent":["var\n\tutils = require('enyo/utils'),\n\toptions = require('enyo/options');\n\nvar config = global.moon && global.moon.config;\n\n/**\n* Global *design-time* configuration options for Moonstone\n*\n* @param {Boolean} Set accelerate `false` to prefer position properties over CSS transforms.\n* @module moonstone/options\n*/\nmodule.exports = utils.mixin({\n\t/** @lends module:moonstone/options */\n\taccelerate: true,\n\trenderOnShow: {\n\t\texpandableListDrawer: true\n\t}\n}, options, config);\n","var\n\tResBundle = require('enyo-ilib/ResBundle');\n\n/**\n* Localized strings from [iLib]{@link ilib} translations.\n*\n* @param {String} string - String to be localized.\n* @returns {String} Localized string.\n* @name moon.$L\n* @public\n*/\nvar $L = function (string) {\n\tif (!$L.rb) {\n\t\treturn string;\n\t}\n\tvar str = $L.rb.getString(string);\n\treturn str.toString();\n};\n$L.rb = new ResBundle({\n\tloadParams: {\n\t\troot: 'moonstone/resources'\n\t}\n});\n\n/**\n* Exports the `$L()` i18n function from [iLib]{@link ilib}.\n* @module moonstone/i18n\n*/\nmodule.exports = $L;\n","/**\n* This module loads Moonstone specific fonts. It has no exports and is not inteded to be directly\n* included by external developers.\n*\n* @private\n* @module moonstone/fonts\n*/\n\nvar\n\ti18n = require('enyo/i18n');\n\nvar\n\tLocale = require('enyo-ilib/Locale');\n\n/**\n* `moon-fonts` is the locale-specific font generator, allowing any locale to have its own custom\n* font. Each locale-font from the configuration block (defined in this file) is generated at\n* run-time. If the locale you're currently in is in the locale-font list an additional\n* `@font-face` rule will be generated that will override the standard \"Moonstone LG Display\"\n* font.\n*\n* Below is example genarated-output of the Urdu (\"ur\") locale-font.\n*\n* ```css\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur Bold';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur Light';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* ```\n*\n* @name International Fonts\n* @public\n*/\n\nfunction funLocaleSpecificFonts () {\n\tvar loc = new Locale(),\n\t\tlanguage = loc.getLanguage(),\n\t\tregion = loc.getRegion(),\n\t\tstyleId = 'enyo-localization-font-override',\n\t\tstyleElem = document.getElementById(styleId),\n\t\tfontDefinitionCss = '',\n\t\t// Locale Configuration Block\n\t\tfonts = {\n\t\t\t'NonLatin': {\n\t\t\t\tregular: 'LG Display-Light',\n\t\t\t\tbold:    'LG Display-Regular'\n\t\t\t},\n\t\t\t'ja': {\n\t\t\t\tregular: 'LG Display_JP'\n\t\t\t},\n\t\t\t'en-JP': {\n\t\t\t\tregular: 'LG Display_JP'\n\t\t\t},\n\t\t\t'ur': {\n\t\t\t\tregular: 'LG Display_Urdu',\n\t\t\t\tunicodeRanges:\n\t\t\t\t\t'U+600-6FF,' +\n\t\t\t\t\t'U+FE70-FEFE,' +\n\t\t\t\t\t'U+FB50-FDFF'\n\t\t\t},\n\t\t\t'zh-HK': {\n\t\t\t\tregular: 'LG Display GP4_HK-Light',\n\t\t\t\tbold:    'LG Display GP4_HK-Regular',\n\t\t\t\tunicodeRanges:\n\t\t\t\t\t'U+0-FF,' +\n\t\t\t\t\t'U+2E80-2EFF,' +\n\t\t\t\t\t'U+3000-303F,' +\n\t\t\t\t\t'U+3200-33FF,' +\n\t\t\t\t\t'U+3400-4DBF,' +\n\t\t\t\t\t'U+4E00-9FFF,' +\n\t\t\t\t\t'U+E000-FAFF,' +\n\t\t\t\t\t'U+FF00-FFEF'\n\t\t\t}\n\t\t};\n\n\t// Duplications and alternate locale names\n\tfonts['zh-TW'] = fonts['zh-HK'];\n\n\t// Generate a single font-face rule\n\tthis.buildFont = function(inOptions) {\n\t\tif (!inOptions && !inOptions.name) {\n\t\t\treturn '';\n\t\t}\n\t\tvar strOut = '@font-face { \\n' +\n\t\t\t'  font-family: \"' + inOptions.name + '\";\\n' +\n\t\t\t'  font-weight: ' + ( inOptions.weight || 'normal' ) + ';\\n';\n\n\t\tif (inOptions.localName) {\n\t\t\tstrOut+= '  src: local(\"' + inOptions.localName + '\");\\n';\n\t\t}\n\t\tif (inOptions.unicodeRanges) {\n\t\t\tstrOut+= '  unicode-range: ' + inOptions.unicodeRanges + ';\\n';\n\t\t}\n\t\tstrOut+= '} \\n';\n\t\treturn strOut;\n\t};\n\n\t// Generate a collection of font-face rules, in multiple font-variants\n\tthis.buildFontSet = function(strLang, bitDefault) {\n\t\tvar strOut = '',\n\t\t\tname = (bitDefault) ? '' : ' ' + strLang;\n\n\t\tif (fonts[strLang].regular) {\n\t\t\t// Build Regular\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name,\n\t\t\t\tlocalName: fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\n\t\t\t// Build Bold\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name + ' Bold',\n\t\t\t\tlocalName: fonts[strLang].bold || fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\n\t\t\t// Build Light\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name + ' Light',\n\t\t\t\tlocalName: fonts[strLang].light || fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\t\t}\n\t\treturn strOut;\n\t};\n\n\tif (!styleElem) {\n\t\tstyleElem = document.createElement('style');\n\t\tstyleElem.setAttribute('id', styleId);\n\t\tdocument.head.appendChild(styleElem);\n\t}\n\n\t// Build all the fonts so they could be explicitly called\n\tfor (var lang in fonts) {\n\t\tfontDefinitionCss+= this.buildFontSet(lang);\n\t}\n\n\t// Set up the override so \"Moonstone LG Display\" becomes the local-specific font.\n\tif (language === 'ja') {\n\t\tfontDefinitionCss+= this.buildFontSet('ja', true);\n\t}\n\telse if (language === 'en' && region === 'JP') {\n\t\tfontDefinitionCss+= this.buildFontSet('en-JP', true);\n\t}\n\telse if (language === 'ur') {\n\t\tfontDefinitionCss+= this.buildFontSet('ur', true);\n\t}\n\telse if (language === 'zh' && region === 'HK') {\n\t\tfontDefinitionCss+= this.buildFontSet('zh-HK', true);\n\t}\n\telse if (language === 'zh' && region === 'TW') {\n\t\tfontDefinitionCss+= this.buildFontSet('zh-TW', true);\n\t}\n\n\tstyleElem.innerHTML = fontDefinitionCss;\n}\n\ni18n.updateLocale.extend(function (sup) {\n\treturn function() {\n\t\tsup.apply(this, arguments);\n\t\tfunLocaleSpecificFonts();\n\t};\n});\n\nfunLocaleSpecificFonts();\n","/**\n* Defines TV-specific resolution values. See {@link module:enyo/resolution} for more details.\n* @module moonstone/resolution\n*/\nvar\n\tri = require('enyo/resolution');\n\nri.defineScreenTypes([\n\t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n\t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n\t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n\t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n]);\n\nmodule.exports = ri;\n","'use strict';\n\n// Many moonstone controls require ilib components but do not directly require the base module which\n// is necessary to include the locale assets.\nrequire('enyo-ilib');\n\nvar\n\tplatform = require('enyo/platform'),\n\tdispatcher = require('enyo/dispatcher'),\n\tgesture = require('enyo/gesture');\n\nexports = module.exports = require('./src/options');\nexports.version = '2.7.0';\n\n// Override the default holdpulse config to account for greater delays between keydown and keyup\n// events in Moonstone with certain input devices.\ngesture.drag.configureHoldPulse({\n\tevents: [{name: 'hold', time: 400}],\n\tendHold: 'onLeave'\n});\n\n/**\n* Registers key mappings for webOS-specific device keys related to media control.\n*\n* @private\n*/\nif (platform.webos >= 4) {\n\t// Table of default keyCode mappings for webOS device\n\tdispatcher.registerKeyMap({\n\t\t415 : 'play',\n\t\t413 : 'stop',\n\t\t19  : 'pause',\n\t\t412 : 'rewind',\n\t\t417 : 'fastforward',\n\t\t461 : 'back'\n\t});\n}\n\n// ensure that these are registered\nrequire('./src/resolution');\nrequire('./src/fonts');\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/BodyText~BodyText} kind.\n* @module moonstone/BodyText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n/**\n* {@link module:moonstone/BodyText~BodyText} is a simple control for displaying body text in an app.\n* It is designed to align with other text-based controls.\n*\n* @class BodyText\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/BodyText~BodyText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.BodyText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-body-text-spacing moon-body-text-control',\n\n\t/**\n\t*\n\t* When `true`, HTML tags are allowed in the control's content.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\tallowHtml: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/BodyText~BodyText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* If `true`, text content is centered; otherwise, it is left-aligned.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcentered: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.centeredChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t\tthis.detectTextDirectionality();\n\t\tif (this.hasNode()) { this.bubble('onRequestSetupBounds'); }\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcenteredChanged: function () {\n\t\tthis.applyStyle('text-align', this.centered ? 'center' : null);\n\t}\n});\n","require('moonstone');\n\n/**\n* Mixin that enables support for custom history.\n*\n* @module moonstone/HistorySupport\n*/\n\nvar\n\tEnyoHistory = require('enyo/History'),\n\tkind = require('enyo/kind');\n\n/**\n* {@link module:moonstone/HistorySupport} is a {@glossary mixin} that enables\n* support for custom history. In its current iteration, \"back\" actions are\n* implemented, allowing controls to override and customize the behavior that\n* occurs when the back key is pressed or the `window.history` is utilized.\n*\n* @mixin\n* @public\n*/\nvar HistorySupport = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'HistorySupport',\n\n\t/**\n\t* @private\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* When `true`, pressing the back key will result in control-specific behavior that\n\t\t* corresponds to a \"back\" action.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tallowBackKey: true\n\t},\n\n\t/**\n\t* Pushes a default state to the back history, consisting of a reference to our\n\t* handler for any \"back\" actions.\n\t*\n\t* If the default `pushBackHistory()` behavior is to be overridden, make sure\n\t* that the control's implementation of `pushBackHistory()` signifies that it\n\t* has handled the necessary behavior by returning `true`, e.g.:\n\t*\n\t* ```javascript\n\t* \tpushBackHistory: function() {\n\t* \t\t// perform custom operations here\n\t* \t\treturn true;\n\t* \t}\n\t* ```\n\t*\n\t* @method\n\t* @public\n\t*/\n\tpushBackHistory: kind.inherit(function (sup) {\n\t\t// When you use a mixin, it will override existing properties and methods. If a control\n\t\t// that uses `moonstone/HistorySupport` has implemented the `pushBackHistory()` method, the\n\t\t// method will be replaced with the following method. To ensure that the control's\n\t\t// implementation of `pushBackHistory()` is executed, we allow it to run and subsequently\n\t\t// examine its return value.\n\t\treturn function () {\n\t\t\t// check whether this control's `pushBackHistroy` method has effectively handled\n\t\t\t// the call, or whether it wants the inherited method to execute\n\t\t\tif (!sup.apply(this, arguments)) {\n\t\t\t\tEnyoHistory.push({context: this, handler: this.backKeyHandler});\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t}),\n\n\t/**\n\t* Handler for whenever a \"back\" action is triggered. The default behavior is to hide the\n\t* control if it is showing.\n\t*\n\t* Most controls will want to override this behavior. If the default behavior should not be\n\t* executed, ensure that the `backKeyHandler()` method in the control signifies that it has\n\t* handled the necessary behavior by returning `true`.\n\t*\n\t* @method\n\t* @public\n\t*/\n\tbackKeyHandler: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tif (!sup.apply(this, arguments)) {\n\t\t\t\tif (this.showing) this.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t})\n};\n\nmodule.exports = HistorySupport;\n","/**\n* Contains the declaration for the {@link module:moonstone/MoonAnimator~MoonAnimator} kind.\n* @module moonstone/MoonAnimator\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tAnimator = require('enyo/Animator'),\n\tanimation = require('enyo/animation');\n\n\n\n/**\n* {@link module:moonstone/MoonAnimator~MoonAnimator} is an animation for breadcrumb panels.\n*\n* @class MoonAnimator\n* @extends module:enyo/Animator~Animator\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/MoonAnimator~MoonAnimator.prototype */ {\n\n\t/**\n\t* A context in which to run the specified {@glossary event} handlers. If this is\n\t* not specified or is falsy, then the [window object]{@glossary window} is used.\n\t*\n\t* @name context\n\t* @type {Object}\n\t* @default undefined\n\t* @memberOf module:moonstone/MoonAnimator~MoonAnimator.prototype\n\t* @public\n\t*/\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MoonAnimator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Animator,\n\n\t/**\n\t* @private\n\t*/\n\tpublished: /** @lends module:moonstone/MoonAnimator~MoonAnimator.prototype */ {\n\t\tdirection: 'forward',\n\n\t\tuseBezier: false,\n\n\t\tconfigs: {}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\taccuracy: 0.01,\n\n\t/**\n\t* @private\n\t*/\n\tvalues: {},\n\n\t/**\n\t* @private\n\t*/\n\tfractions: {},\n\n\t/**\n\t* @private\n\t*/\n\tdebug: false,\n\n\t/**\n\t* @private\n\t*/\n\tconstructed: function () {\n\t\tAnimator.prototype.constructed.apply(this, arguments);\n\t\tthis.buildBezierTable();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbezier: function (t, x1, y1, x2, y2) {\n\t\tvar p0 = {x: 0, y: 0}, p1 = {x: x1, y: y1}, p2 = {x: x2, y: y2}, p3 = {x: 1, y: 1};\n\t\tvar cX = 3 * (p1.x - p0.x),\n\t\t\tbX = 3 * (p2.x - p1.x) - cX,\n\t\t\taX = p3.x - p0.x - cX - bX;\n\n\t\tvar cY = 3 * (p1.y - p0.y),\n\t\t\tbY = 3 * (p2.y - p1.y) - cY,\n\t\t\taY = p3.y - p0.y - cY - bY;\n\n\t\tvar x = (aX * Math.pow(t, 3)) + (bX * Math.pow(t, 2)) + (cX * t) + p0.x;\n\t\tvar y = (aY * Math.pow(t, 3)) + (bY * Math.pow(t, 2)) + (cY * t) + p0.y;\n\n\t\treturn {x: x, y: y};\n\t},\n\n\t/**\n\t* Adds configuration for animation.\n\t*\n\t* The config can be specified for each object that needs to be animated.\n\t* Each config consists of two directions, forward and backward.\n\t*\n\t* ```javascript\n\t* panel: {\n\t* \tforward: { startValue: 0, endValue: 1, delay: 0, duration: 430, bezier: [.69,.01,.97,.59]},\n\t* \tbackward: { startValue: 0, endValue: 1, delay: 0, duration: 500, bezier: [.06,.53,.38,.99] }\n\t* }\n\t* ```\n\t*\n\t* @param {Object} config\n\t* @public\n\t*/\n\taddConfig: function (config) {\n\t\tif (config) {\n\t\t\tutil.mixin(this.configs, config);\n\t\t}\n\t\tthis.buildBezierTable();\n\t},\n\n\t/**\n\t* Builds bezier curve table as a function of x and y.\n\t* Interpolates the intermediate values in the table.\n\t*\n\t* @private\n\t*/\n\tbuildBezierTable: function () {\n\t\tif (!this.useBezier) return;\n\n\t\tvar start = util.perfNow(), end;\n\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tvar last = {x:0, y:0},\n\t\t\t\tconf = config.bezier,\t// Format: { x1, y1, x2, y2 }, values between 0 and 1\n\t\t\t\tret, i, j;\n\n\t\t\tconfig.bezierTable = {};\n\n\t\t\tfor (i = 0; i <= 1; i += this.accuracy){\n\t\t\t\t// Todo: Modify bezier function to have input as x and output as y.\n\t\t\t\tret = this.bezier(i, conf[0], conf[1], conf[2], conf[3]);\n\n\t\t\t\t// Linear Interpolation\n\t\t\t\t//  - Bezier curve table which is having X as a key between 0 and 100.\n\t\t\t\t//  - Y value is having value between 0 and 1.\n\t\t\t\tfor (j = last.x; j < ret.x; j += 0.01) {\n\t\t\t\t\tconfig.bezierTable[(j*100)<<0] = last.y + (j - last.x) * (ret.y-last.y) / (ret.x - last.x);\n\t\t\t\t}\n\t\t\t\tlast = ret;\n\t\t\t}\n\t\t\t// Fill rest of table to 1\n\t\t\tfor (i = (last.x*100)<<0; i <= 100; i++) {\n\t\t\t\tconfig.bezierTable[i] = 1;\n\t\t\t}\n\t\t});\n\n\t\tend = util.perfNow();\n\n\t\tif (this.debug) {\n\t\t\tthis.log('Build Bezier Table takes', end - start, 'ms');\n\t\t}\n\t},\n\n\n\t/**\n\t* Plays the animation.\n\t*\n\t* @param {Object} props - As a convenience, this [hash]{@glossary Object} will be mixed\n\t*\tdirectly into this [object]{@glossary Object}.\n\t* @public\n\t*/\n\tplay: function (props) {\n\t\tvar duration = 0;\n\n\t\t// Find maximum duration for the whole animation\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tthis.values[obj] = config.startValue;\n\t\t\tduration = Math.max(config.delay + config.duration, duration);\n\t\t}, this.direction);\n\n\t\tthis.duration = duration;\n\n\t\tAnimator.prototype.play.apply(this, arguments);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t* Reverses the direction of a running animation.\n\t*\n\t* @return {this} The callee for chaining.\n\t* @public\n\t*/\n\treverse: function () {\n\t\tif (this.isAnimating()) {\n\t\t\tAnimator.prototype.reverse.apply(this, arguments);\n\t\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\t\t// swap start and end values\n\t\t\t\tvar startValue = config.startValue;\n\t\t\t\tconfig.startValue = config.endValue;\n\t\t\t\tconfig.endValue = startValue;\n\t\t\t}, this.direction);\n\t\t\treturn this;\n\t\t}\n\t},\n\n\t/**\n\t* Runs the next step of the animation.\n\t*\n\t* @fires module:enyo/Animator~Animator#onStep\n\t* @fires module:enyo/Animator~Animator#onEnd\n\t* @private\n\t*/\n\tnext: function () {\n\t\tthis.t1 = util.perfNow();\n\t\tthis.dt = this.t1 - this.t0;\n\t\tthis.fraction = this.dt / this.duration;\n\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tvar fraction, f;\n\n\t\t\tif (this.dt - config.delay < 0) return;\n\n\t\t\tif (this.dt - config.delay >= config.duration) {\n\t\t\t\tthis.values[obj] = config.endValue;\n\t\t\t\tthis.fractions[obj] = 1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.useBezier) {\n\t\t\t\t// Use bezier function\n\t\t\t\tfraction = (this.dt - config.delay) / config.duration;\n\t\t\t\tf = this.fractions[obj] = config.bezierTable[(fraction*100)<<0];\n\t\t\t\tthis.values[obj] = config.startValue + f * (config.endValue - config.startValue);\n\t\t\t} else {\n\t\t\t\t// Use easing function\n\t\t\t\tif (config.easing.length === 1) {\n\t\t\t\t\t// time independent\n\t\t\t\t\tthis.fractions[obj] = animation.easedLerp(this.t0 + config.delay, config.duration, config.easing, this.reversed);\n\t\t\t\t\tthis.values[obj] = config.startValue + this.fractions[obj] * (config.endValue - config.startValue);\n\t\t\t\t} else {\n\t\t\t\t\tthis.values[obj] = animation.easedComplexLerp(this.t0 + config.delay, config.duration, config.easing, this.reversed,\n\t\t\t\t\t\tthis.dt - config.delay, config.startValue, (config.endValue - config.startValue));\n\t\t\t\t}\n\t\t\t}\n\t\t}, this.direction);\n\n\t\tif (this.shouldEnd()) {\n\t\t\tthis.fire('onStep');\n\t\t\tthis.cancel();\n\t\t\tutil.asyncMethod(this.bindSafely(function() {\n\t\t\t\tthis.fire('onEnd');\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.fire('onStep');\n\t\t\tthis.requestNext();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\titerateConfig: function (scope, callback, direction) {\n\t\tvar obj, dir;\n\n\t\tfor (obj in this.configs) {\n\t\t\tif (direction) {\n\t\t\t\t// for specified direction\n\t\t\t\tcallback.call(scope, obj, direction, this.configs[obj][direction]);\n\t\t\t} else {\n\t\t\t\t// for all directions\n\t\t\t\tfor (dir in this.configs[obj]) {\n\t\t\t\t\tcallback.call(scope, obj, dir, this.configs[obj][dir]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/MoonArranger~MoonArranger} kind.\n* @module moonstone/MoonArranger\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tArranger = require('layout/Arranger');\n\n/**\n*\t{@link module:moonstone/MoonArranger~MoonArranger} is a\n* {@link module:layout/Arranger~Arranger} that displays the active control.\n* The active control is positioned on the right side of the container and the\n* breadcrumbs are laid out to the left.\n*\n* For more information, see the documentation on\n* [Arrangers](building-apps/layout/arrangers.html) in the Enyo Developer Guide.\n*\n* @class MoonArranger\n* @extends module:layout/Arranger~Arranger\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/MoonArranger~MoonArranger.prototype */ {\n\tname: 'moon.MoonArranger',\n\tkind: Arranger,\n\t\n\t//* @protected\n\tsize: function () {\n\t\tthis.calcTransitionPositions();\n\t},\n\t/**\n\t* Called when panel is created dynamically.\n\t*\n\t* @protected\n\t*/\n\tcalcTransitionPositions: function () {\n\t\tvar container = this.container,\n\t\t\tpanels = container.getPanels(),\n\t\t\tlength = panels ? panels.length : 0;\n\n\t\tcontainer.transitionPositions = {};\n\n\t\tfor (var i=0; i<length; i++) {\n\t\t\tfor (var j=0; j<length; j++) {\n\t\t\t\tcontainer.transitionPositions[j + '.' + i] = (j - i);\n\t\t\t}\n\t\t}\n\t},\n\tarrange: function (controls, index) {\n\t\tvar container = this.container,\n\t\t\tpanels = container.getPanels(),\n\t\t\tactive = container.clamp(index),\n\t\t\tcontrol, xPos;\n\n\t\tfor (var i=0; (control=panels[i]); i++) {\n\t\t\txPos = container.transitionPositions[i + '.' + active];\n\t\t\tthis.arrangeControl(control, {left: xPos*100});\n\t\t}\n\t},\n\tflowArrangement: function () {\n\t\tthis.flowPanel();\n\t\tthis.flowBreadcrumb();\n\t},\n\tflowPanel: function () {\n\t\tvar container = this.container,\n\t\t\tarrangements = container.arrangement,\n\t\t\tpanels = container.getPanels(),\n\t\t\tcontrol, i;\n\n\t\tif (arrangements && arrangements.panel) {\n\t\t\t// Flow panel\n\t\t\tfor (i=0; (control=panels[i]) && (arrangements.panel[i]); i++) {\n\t\t\t\tthis.flowControl(control, arrangements.panel[i]);\n\t\t\t}\n\t\t}\n\t},\n\tflowBreadcrumb: function () {\n\t\tvar container = this.container,\n\t\t\tarrangements = container.arrangement,\n\t\t\trange = this.container.getBreadcrumbRange(),\n\t\t\tarrangement, control, i;\n\n\t\tif (arrangements && arrangements.breadcrumb) {\n\t\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\t\t// Select breadcrumb to arrange for the given panel index\n\t\t\t\t// If we have a window of [2, 3] then we choose breadcrumb [0, 1].\n\t\t\t\t// If we have a window of [3, 4] then we choose breadcrumb [1, 0].\n\t\t\t\tcontrol = container.getBreadcrumbForIndex(i);\n\n\t\t\t\t// For the first panel, we arrange all breadcrumb to offscreen area.\n\t\t\t\tarrangement = (i>=0) ? arrangements.breadcrumb[i] : {left: 0};\n\t\t\t\t\n\t\t\t\tthis.flowControl(control, arrangement);\n\t\t\t}\n\t\t}\n\t},\n\twrap: function (value, length) {\n\t\treturn (value+length)%length;\n\t},\n\tflowControl: function (control, arrangement) {\n\t\tArranger.positionControl(control, arrangement, '%');\n\t},\n\tdestroy: function() {\n\t\tvar panels = this.container.getPanels();\n\t\tfor (var i=0, control; (control=panels[i]); i++) {\n\t\t\tArranger.positionControl(control, {left: null, top: null});\n\t\t\tcontrol.applyStyle('top', null);\n\t\t\tcontrol.applyStyle('bottom', null);\n\t\t\tcontrol.applyStyle('left', null);\n\t\t\tcontrol.applyStyle('width', null);\n\t\t}\n\t\tArranger.prototype.destroy.apply(this, arguments);\n\t},\n\n\t/**\n\t* Returns `true` if any panels will move in the transition from `fromIndex` to `toIndex`.\n\t* @private\n\t*/\n\tshouldArrange: function (fromIndex, toIndex) {\n\t\tif (!(fromIndex >= 0 && toIndex >= 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar transitionPositions = this.container.transitionPositions,\n\t\t\tpanelCount = this.container.getPanels().length,\n\t\t\tpanelIndex,\n\t\t\tfrom,\n\t\t\tto;\n\n\t\tif (transitionPositions) {\n\t\t\tfor (panelIndex = 0; panelIndex < panelCount; panelIndex++) {\n\t\t\t\tfrom = transitionPositions[panelIndex + '.' + fromIndex];\n\t\t\t\tto = transitionPositions[panelIndex + '.' + toIndex];\n\n\t\t\t\tif (from !== to) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/StyleAnimator~StyleAnimator} kind.\n* @module moonstone/StyleAnimator\n* @deprecated\n* @private\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tlog = require('enyo/logger'),\n\tutils = require('enyo/utils'),\n\tComponent = require('enyo/Component');\n\n/**\n* @typedef {Object} module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject\n* @property {String} name - An optional name for the animation. If not specified,\n* a name will be generated.\n* @property {Number} duration - An optional duration. If not specified, the\n*\t[default duration]{@link module:moonstone/StyleAnimator~StyleAnimator#defaultDuration} will be used.\n* @property {Object} timingFunction - An optional timing function. If not specified, the\n*\t[default timing function]{@link module:moonstone/StyleAnimator~StyleAnimator#defaultTimingFunction} will be used.\n* @property {String} direction - `'forward'` or `'backward'`. Currently unused.\n* @property {Object[]} keyframes - Animation keyframes.\n* @public\n*/\n\n/**\n* Fires when an animation step occurs.\n*\n* @event module:moonstone/StyleAnimator~StyleAnimator#onStep\n* @type {Object}\n* @property {Object} animation - A reference to the animation that generated the event.\n* @public\n*/\n\n/**\n* Fires when the animation completes.\n*\n* @event module:moonstone/StyleAnimator~StyleAnimator#onComplete\n* @type {Object}\n* @property {Object} animation - A reference to the animation that completed.\n* @public\n*/\n\n/**\n* {@link module:moonstone/StyleAnimator~StyleAnimator} is a basic animation component.  Call\n* [play()]{@link module:moonstone/StyleAnimator~StyleAnimator#play} to start the animation.  The animation will run for\n* the period of time (in milliseconds) specified by its `duration`, subject to its\n* `timingFunction` and `direction` (See: {@link module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject}).\n*\n* @class StyleAnimator\n* @extends module:enyo/Component~Component\n* @private\n* @deprecated\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/StyleAnimator~StyleAnimator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'enyo.StyleAnimator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Component,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonStep: '',\n\t\tonComplete: ''\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/StyleAnimator~StyleAnimator.prototype\n\t*/\n\tpublished: {\n\t\t//* Default value used if the animation has no `duration` specified.\n\t\tdefaultDuration: 1000,\n\t\t//* Default value used if the animation has no `timingFunction` specified.\n\t\tdefaultTimingFunction: 'linear',\n\t\t//* Default value used if the animation has no `direction` specified.\n\t\tdefaultDirection: 'forward'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttransitionProperty: dom.transition,\n\n\t/**\n\t* @private\n\t*/\n\tinstructions: null,\n\n\t/**\n\t* @private\n\t*/\n\tstepInterval: null,\n\n\t/**\n\t* @private\n\t*/\n\tstepIntervalMS: 50,\n\n\t/**\n\t* @private\n\t*/\n\tstartTime: null,\n\n\t/**\n\t* @private\n\t*/\n\tanimations: null,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tComponent.prototype.create.apply(this, arguments);\n\t\tthis.animations = [];\n\t},\n\n\t/**\n\t* Returns animation object reflecting the passed-in properties, while also adding it to the\n\t* `animations` array.\n\t*\n\t* @param {module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject} props - An animation definition hash.\n\t* @public\n\t*/\n\tnewAnimation: function (props) {\n\t\t// TODO: Add documentation for the generated animation object\n\t\tif (this.animations && props.name && this.getAnimation(props.name)) {\n\t\t\tthis.deleteAnimation(props.name);\n\t\t}\n\n\t\tprops.keyframes = this.formatKeyframes(props.keyframes);\n\t\tprops.instructions = this.generateInstructions(props.keyframes);\n\n\t\tvar animation = {\n\t\t\tname:           props.name || this.generateAnimationName(),\n\t\t\tduration:       props.duration || this.defaultDuration,\n\t\t\ttimingFunction: props.timingFunction ? this.updateTimingFunction (props.timingFunction) : this.updateTimingFunction (this.defaultTimingFunction),\n\t\t\tdirection:      props.direction || this.defaultDirection,\n\t\t\ttimeElapsed:    0,\n\t\t\tkeyframes:      props.keyframes,\n\t\t\tinstructions:   props.instructions,\n\t\t\tstate:          'paused'\n\t\t};\n\n\t\tthis.animations.push(animation);\n\n\t\treturn animation;\n\t},\n\n\t/**\n\t* Resets transition properties to their pre-transition state for the specified animation.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\treset: function (name) {\n\t\tthis.getAnimation(name);\n\t\tthis._reset(name);\n\t},\n\n\t/**\n\t* Plays the animation according to its properties.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tplay: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.findStartAndEndValues(animation);\n\t\tthis.applyValues(animation.startValues);\n\t\tthis.cacheStartValues(animation.startValues);\n\n\t\tutils.asyncMethod(this.bindSafely(function () { this._play(name); }));\n\t},\n\n\t/**\n\t* Jumps directly to the end state of a given animation (without animating).\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tjumpToEnd: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.findStartAndEndValues(animation);\n\t\tthis.applyValues(animation.endValues);\n\t},\n\n\t/**\n\t* Pauses the animation, if it is currently playing.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tpause: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tif (animation.state === 'playing') {\n\t\t\tthis._pause(name);\n\t\t}\n\t},\n\n\t/**\n\t* Looks up an animation by name in the animation list.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tgetAnimation: function (name) {\n\t\tvar animation = null;\n\t\tfor (var i = 0; i < this.animations.length; i++) {\n\t\t\tif (this.animations[i].name === name) {\n\t\t\t\tanimation = this.animations[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn animation;\n\t},\n\n\t/**\n\t* Removes an existing animation from `this.animations`, stopping it first, if necessary.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tdeleteAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Pause animation if necessary\n\t\tthis._pause(name);\n\n\t\t// Splice out this animation\n\t\tthis.animations.splice(this.animations.indexOf(animation), 1);\n\t},\n\n\t/**\n\t* Begins stepping through the animation.\n\t*\n\t* @public\n\t*/\n\tstart: function () {\n\t\tthis.beginStepping();\n\t},\n\n\t/**\n\t* Stops stepping through the animation.\n\t*\n\t* @public\n\t*/\n\tstop: function () {\n\t\tthis.stopStepping();\n\t},\n\n\t/**\n\t* Generates a unique name based on the length of `this.animations`.\n\t*\n\t* @private\n\t*/\n\tgenerateAnimationName: function () {\n\t\tvar count = this.animations.length,\n\t\t\tname = this.getName()+'_animation_'+count;\n\t\twhile (this.getAnimation(name)) {\n\t\t\tname = this.getName()+'_animation_'+count;\n\t\t}\n\t\treturn name;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tformatKeyframes: function (inKeyframes) {\n\t\tvar frames = [];\n\t\tfor (var index in inKeyframes) {\n\t\t\tframes.push({index: index, controls: inKeyframes[index]});\n\t\t}\n\t\treturn frames;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateTimingFunction: function (inTimingFunction) {\n\t\treturn inTimingFunction.match(/\\bcubic-bezier/i) ? inTimingFunction : this.convertTimingFunctionToBezier(inTimingFunction);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tconvertTimingFunctionToBezier: function (timing) {\n\t\tswitch (timing) {\n\t\tcase 'linear':\n\t\t\treturn 'cubic-bezier(0, 0, 1, 1)';\n\t\tcase 'ease':\n\t\t\treturn 'cubic-bezier(0.25, 0.1, 0.25, 1.0)';\n\t\tcase 'ease-in':\n\t\t\treturn 'cubic-bezier(.42, 0, 1, 1)';\n\t\tcase 'ease-out':\n\t\t\treturn 'cubic-bezier(0, 0, .58, 1)';\n\t\tcase 'ease-in-out':\n\t\t\treturn 'cubic-bezier(.42, 0, .58, 1)';\n\t\t}\n\t\tlog.warn('Unknown timing function: ', timing);\n\t\treturn timing;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgenerateInstructions: function (inKeyframes) {\n\t\tvar frames = inKeyframes,\n\t\t\tinstructions = [],\n\t\t\tinstruction,\n\t\t\tendValues;\n\n\t\tfor (var i = 0; i < frames.length-1; i++) {\n\t\t\tfor (var j = 0, control; (control = frames[i].controls[j]); j++) {\n\t\t\t\tfor (var prop in control.properties) {\n\n\t\t\t\t\tinstruction = {\n\t\t\t\t\t\tcontrol: control.control,\n\t\t\t\t\t\tproperty: prop,\n\t\t\t\t\t\tstartValue: control.properties[prop],\n\t\t\t\t\t\tstartTime: frames[i].index\n\t\t\t\t\t};\n\n\t\t\t\t\tendValues = this.findInstructionEndValues(instruction, i+1, frames);\n\n\t\t\t\t\t// If no end values, skip this rule   TODO - is this right?\n\t\t\t\t\tif (!endValues) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Mix in end values\n\t\t\t\t\tinstructions.push(utils.mixin(instruction, endValues));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn instructions;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfindStartAndEndValues: function (inAnimation) {\n\t\tvar frames = inAnimation.keyframes,\n\t\t\tstartValues = {},\n\t\t\tendValues = {},\n\t\t\tc,\n\t\t\tcID;\n\n\t\tfor (var i = 0; i < frames.length; i++) {\n\t\t\tfor (var j = 0, control; (control = frames[i].controls[j]); j++) {\n\t\t\t\tc = control.control;\n\t\t\t\tcID = c.id;\n\n\t\t\t\tif (!startValues[cID]) {\n\t\t\t\t\tstartValues[cID] = {\n\t\t\t\t\t\tcontrol: c,\n\t\t\t\t\t\tproperties: {}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (!endValues[cID]) {\n\t\t\t\t\tendValues[cID] = {\n\t\t\t\t\t\tcontrol: c,\n\t\t\t\t\t\tproperties: {}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tfor (var prop in control.properties) {\n\t\t\t\t\t// If value is set to _current_, grab the computed value\n\t\t\t\t\tif (control.properties[prop] === 'current') {\n\t\t\t\t\t\tcontrol.properties[prop] = dom.getComputedStyle(c.hasNode())[prop];\n\t\t\t\t\t}\n\t\t\t\t\t// at zero, every prop is a startvalue\n\t\t\t\t\tif (i === 0 || typeof startValues[cID]['properties'][prop] === 'undefined') {\n\t\t\t\t\t\tstartValues[cID]['properties'][prop] = control.properties[prop];\n\t\t\t\t\t}\n\n\t\t\t\t\tendValues[cID]['properties'][prop] = control.properties[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinAnimation.startValues = startValues;\n\t\tinAnimation.endValues = endValues;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfindInstructionEndValues: function (inInstruction, inFrameIndex, inFrames) {\n\t\tfor (var i = inFrameIndex; i < inFrames.length; i++) {\n\t\t\tfor (var j = 0, control; (control = inFrames[i].controls[j]); j++) {\n\t\t\t\tif (control.control !== inInstruction.control) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor (var prop in control.properties) {\n\t\t\t\t\tif (prop === inInstruction.property) {\n\t\t\t\t\t\treturn {endValue: control.properties[prop], endTime: inFrames[i].index};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_play: function (name) {\n\t\tthis.startAnimation(name);\n\t\tthis.beginStepping();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tthis.applyTransitions(name, 0);\n\t\tanimation.state = 'playing';\n\t\tanimation.timeElapsed = 0;\n\t\tanimation.startTime = utils.perfNow();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyValues: function (inValues) {\n\t\tvar item, prop, control;\n\n\t\tfor(item in inValues) {\n\t\t\tcontrol = inValues[item].control;\n\n\t\t\tfor (prop in inValues[item].properties) {\n\t\t\t\tcontrol.applyStyle(prop, inValues[item].properties[prop]);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcacheStartValues: function (inStartValues) {\n\t\tvar item, control;\n\t\tthis.startValues = inStartValues;\n\n\t\tfor(item in inStartValues) {\n\t\t\tcontrol = inStartValues[item].control;\n\t\t\tinStartValues[item].properties[this.transitionProperty] = control[this.transitionProperty];\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyTransitions: function (name, inStartTime) {\n\t\tvar animation = this.getAnimation(name),\n\t\t\tinstructions = animation.instructions;\n\t\tfor (var i = 0; i < instructions.length; i++) {\n\t\t\tif (instructions[i].startTime <= inStartTime && !instructions[i].started) {\n\t\t\t\tthis.applyTransition(name, instructions[i]);\n\t\t\t\tinstructions[i].started = true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyTransition: function (name, inInstruction) {\n\t\tvar animation = this.getAnimation(name),\n\t\t\tcurrentStyle = inInstruction.control[this.transitionProperty],\n\t\t\ttransitionTime = (inInstruction.endTime - inInstruction.startTime)*animation.duration/(100*1000),\n\t\t\tnewStyle = currentStyle ? currentStyle + ', ' : '',\n\t\t\ttransitionProperty = this.transitionProperty;\n\n\t\tnewStyle += inInstruction.property + ' ' + transitionTime + 's ' + animation.timingFunction + ' 0s';\n\n\t\tinInstruction.control.applyStyle(transitionProperty, newStyle);\n\n\t\t// we arbitrarily cache this value for cheaper lookup later\n\t\tinInstruction.control[transitionProperty] = newStyle;\n\n\t\tinInstruction.control.applyStyle(inInstruction.property, inInstruction.endValue);\n\n\t\t//  this.log(inInstruction.control.id+'.applyStyle('+transitionProperty+', '+newStyle+')');\n\t\t//  this.log(inInstruction.control.id+'.applyStyle('+inInstruction.property+', '+inInstruction.endValue+')');\n\t},\n\n\t/**\n\t* Begins stepping.\n\t*\n\t* @private\n\t*/\n\tbeginStepping: function () {\n\t\tif (!this.stepInterval) {\n\t\t\tthis.stepInterval = setInterval(this.bindSafely('_step'), this.stepIntervalMS);\n\t\t}\n\t},\n\n\t/**\n\t* Stops stepping.\n\t*\n\t* @private\n\t*/\n\tstopStepping: function () {\n\t\tif (this.stepInterval) {\n\t\t\tclearInterval(this.stepInterval);\n\t\t\tthis.stepInterval = null;\n\t\t}\n\t},\n\n\t/**\n\t* Steps through each playing animation.\n\t*\n\t* @private\n\t*/\n\t_step: function () {\n\t\tvar playingAnimations = false,\n\t\t\tnow = utils.perfNow(),\n\t\t\tanimation,\n\t\t\telapsed,\n\t\t\ti;\n\n\t\tfor (i = 0; (animation = this.animations[i]); i++) {\n\t\t\tif (animation.state === 'paused') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\telapsed = now - animation.startTime;\n\n\t\t\t// If complete, bail\n\t\t\tif (elapsed > animation.duration) {\n\t\t\t\tif (animation.percentElapsed != 100) {\n\t\t\t\t\tthis.applyTransitions(animation.name, 100);\n\t\t\t\t}\n\t\t\t\tanimation.percentElapsed = 100;\n\t\t\t\tthis.doStep({animation: animation});\n\t\t\t\tthis.completeAnimation(animation.name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tanimation.timeElapsed = elapsed;\n\t\t\tanimation.percentElapsed = Math.round(elapsed*100/animation.duration);\n\t\t\tthis.applyTransitions(animation.name, animation.percentElapsed);\n\t\t\tplayingAnimations = true;\n\n\t\t\t// Bubble step event\n\t\t\tthis.doStep({animation: animation});\n\t\t}\n\n\t\tif (!playingAnimations) {\n\t\t\tthis.stop();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcompleteAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tthis._pause(name);\n\t\tthis._reset(name);\n\t\tthis.doComplete({animation: animation});\n\t},\n\n\t/**\n\t* Resets transition properties to their pre-transition values.\n\t*\n\t* @private\n\t*/\n\t_reset: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tfor(var item in animation.startValues) {\n\t\t\tanimation.startValues[item].control.applyStyle(this.transitionProperty, animation.startValues[item].properties[this.transitionProperty]);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_pause: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tanimation.state = 'paused';\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Icon~Icon} kind.\n* @module moonstone/Icon\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tri = require('enyo/resolution'),\n\tpath = require('enyo/pathResolver'),\n\tControl = require('enyo/Control');\n\n// Static private hash of all of the valid moonstone icons\nvar icons = {\n\tplus              : '&#43;',      // \\0002B plus\n\tminus             : '&#45;',      // \\0002D hyphen\n\tarrowhookleft     : '&#8617;',    // \\021A9 LeftArrowHook\n\tarrowhookright    : '&#8618;',    // \\021AA RightArrowHook\n\tellipsis          : '&#8943;',    // \\022EF ellipsis\n\tcheck             : '&#10003;',   // \\02713 checkmark\n\tcircle            : '&#983003;',  // \\0EFFDB record\n\tstop              : '&#983004;',  // \\0EFFDC stop\n\tplay              : '&#983005;',  // \\0EFFDD play\n\tpause             : '&#983006;',  // \\0EFFDE pause\n\tforward           : '&#983007;',  // \\0EFFDF forward\n\tbackward          : '&#983008;',  // \\0EFFE0 rewind\n\tskipforward       : '&#983009;',  // \\0EFFE1 skip_forward\n\tskipbackward      : '&#983010;',  // \\0EFFE2 skip_backwards\n\tpauseforward      : '&#983011;',  // \\0EFFE3 indicator_forward\n\tpausebackward     : '&#983012;',  // \\0EFFE4 indicator_backward\n\tpausejumpforward  : '&#983013;',  // \\0EFFE5 indicator_skip_forward\n\tpausejumpbackward : '&#983014;',  // \\0EFFE6 indicator_skip_backward\n\tjumpforward       : '&#983015;',  // \\0EFFE7 indicator_end\n\tjumpbackward      : '&#983016;',  // \\0EFFE8 indicator_begin\n\tdenselist         : '&#983017;',  // \\0EFFE9 list_big\n\tbulletlist        : '&#983018;',  // \\0EFFEA list_bullets\n\tlist              : '&#983019;',  // \\0EFFEB list_simple\n\tdrawer            : '&#983020;',  // \\0EFFEC list_actions\n\tarrowlargedown    : '&#983021;',  // \\0EFFED caret_down_large\n\tarrowlargeup      : '&#983022;',  // \\0EFFEE caret_up_large\n\tarrowlargeleft    : '&#983023;',  // \\0EFFEF caret_left_large\n\tarrowlargeright   : '&#983024;',  // \\0EFFF0 caret_right_large\n\tarrowsmallup      : '&#983025;',  // \\0EFFF1 caret_up_small\n\tarrowsmalldown    : '&#983026;',  // \\0EFFF2 caret_down_small\n\tarrowsmallleft    : '&#983027;',  // \\0EFFF3 caret_left_small\n\tarrowsmallright   : '&#983028;',  // \\0EFFF4 caret_right_small\n\tclosex            : '&#983029;',  // \\0EFFF5 close_x\n\tsearch            : '&#983030;',  // \\0EFFF6 magnify\n\trollforward       : '&#983031;',  // \\0EFFF7 redo\n\trollbackward      : '&#983032;',  // \\0EFFF8 undo\n\texitfullscreen    : '&#983033;',  // \\0EFFF9 minimize\n\tfullscreen        : '&#983034;',  // \\0EFFFA maximize\n\tarrowextend       : '&#983073;',  // \\0F0021 arrow_left\n\tarrowshrink       : '&#983074;',  // \\0F0022 arrow_right\n\tflag              : '&#983075;',  // \\0F0023 flag\n\tfunnel            : '&#983076;',  // \\0F0024 filter\n\ttrash             : '&#983077;',  // \\0F0025 trash\n\tstar              : '&#983080;',  // \\0F0028 star_full\n\thollowstar        : '&#983081;',  // \\0F0029 star_empty\n\thalfstar          : '&#983082;',  // \\0F002A star_half\n\tgear              : '&#983083;',  // \\0F002B gear\n\tplug              : '&#983084;',  // \\0F002C input\n\tlock              : '&#983085;'   // \\0F002D lock\n};\n\n/**\n* {@link module:moonstone/Icon~Icon} is a control that displays an icon image. You may specify the\n* image by setting the [src]{@link module:moonstone/Icon~Icon#src} property to a URL indicating the\n* image file's location.\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIcon = require('moonstone/Icon');\n*\n* \t{kind: Icon, src: 'moonstone/src/assets/search.png'}\n* ```\n*\n* Moonstone also supports a second method for displaying icons; in addition to\n* using traditional image assets specified in `src`, you may use icons that are\n* stored as single characters in a special symbol font. To do this, set the\n* value of the [icon]{@link module:moonstone/Icon~Icon#icon} property to a string representing an\n* icon name, e.g.:\n*\n* ```\n* \t{kind: Icon, icon: 'closex'}\n* ```\n*\n* For image-based icons, two sizes are supported: large (45x45 pixels) and small\n* (32x32 pixels). Icons are small by default. To specify a large icon, set the\n* [small]{@link module:moonstone/Icon~Icon#small} property to `false`:\n*\n* ```\n* \t{kind: Icon, src: 'moonstone/src/assets/search.png', small: false}\n*\n* \t{kind: Icon, icon: 'closex', small: false}\n* ```\n*\n* In addition, both icon sizes support two states: a default (resting) state,\n* and a pressed (active) state. Both states need to be included in the icon's\n* associated image asset, with the resting state on top and the active state on\n* the bottom.\n*\n* Image assets for large icons should be 75px wide and 150px high. This allows\n* room for the two states, along with 15 pixels of transparent padding on all\n* four sides of each 45x45 icon.\n*\n* Assets for small icons should be 50px wide and 100px high. This allows room\n* for the two states, along with 9 pixels of transparent padding on all four\n* sides of each 32x32 icon.\n*\n* Since asset-based icon images are applied as CSS backgrounds, the height and\n* width of an icon must be set if an image of a non-standard size is used.\n*\n* For situations in which an icon should act like a button, use\n* {@link module:moonstone/IconButton~IconButton}.\n*\n* @class Icon\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Icon~Icon.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Icon',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tallowHtml: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Icon~Icon.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* This property serves two purposes. One, it accepts one of the below Moonstone icon\n\t\t* names. Two, it also supports standard ascii characters or HTML entities, to directly\n\t\t* represent a glyph. By default, the font used when you specify a\n\t\t* character/entity/glyph, the font \"LG Display_Dingbat\" will be used. It is applied via\n\t\t* a `class`: \"font-lg-icons\". To apply your own dingbat font, override this class's\n\t\t* `font-family` property in your CSS.\n\t\t*\n\t\t* The following icon names are valid:\n\t\t*\n\t\t* `drawer`\n\t\t* `arrowlargedown`\n\t\t* `arrowlargeup`\n\t\t* `arrowlargeleft`\n\t\t* `arrowlargeright`\n\t\t* `arrowsmallup`\n\t\t* `arrowsmalldown`\n\t\t* `arrowsmallleft`\n\t\t* `arrowsmallright`\n\t\t* `closex`\n\t\t* `check`\n\t\t* `search`\n\t\t* `exitfullscreen`\n\t\t* `fullscreen`\n\t\t* `circle`\n\t\t* `stop`\n\t\t* `play`\n\t\t* `pause`\n\t\t* `forward`\n\t\t* `backward`\n\t\t* `skipforward`\n\t\t* `skipbackward`\n\t\t* `pauseforward`\n\t\t* `pausebackward`\n\t\t* `pausejumpforward`\n\t\t* `pausejumpbackward`\n\t\t* `jumpforward`\n\t\t* `jumpbackward`\n\t\t* `arrowextend`\n\t\t* `arrowshrink`\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ticon: '',\n\n\t\t/**\n\t\t* URL specifying path to icon image.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: '',\n\n\t\t/**\n\t\t* If `true`, icon is shown as disabled.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the icon.\n\t\t* If `true`, the icon will be 32px by 32px. If `false`, the icon will be 45px\n\t\t* by 45px. When `small` is `true`, a larger, invisible tap area will be applied\n\t\t* around the icon.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tsmall: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\t/**\n\t\t* This is a horrible hack to prevent event bubble caching from messing up\n\t\t* moon.Tooltip positioning (BHV-13377). In short, we don't need to do anything\n\t\t* with onenter ourselves, but we need it to pass through us on the way to\n\t\t* moon.TooltipDecorator, which uses inSender to figure out who the tooltip\n\t\t* activator should be.\n\t\t*\n\t\t* TODO: Something better.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonenter: 'doNothing'\n\t},\n\n\t/**\n\t* @returns {String} The value of the [src]{@link module:moonstone/Icon~Icon#src} property.\n\t* @public\n\t*/\n\tgetSrc: function () {\n\t\treturn this.src;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-icon',\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\n\t\tthis.smallChanged();\n\t\tif (this.src) {\n\t\t\tthis.srcChanged();\n\t\t}\n\t\tthis.disabledChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetIconClass: function (inIconName) {\n\t\treturn 'moon-icon-' + (inIconName || this.icon);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tthis.addRemoveClass('disabled', this.disabled);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsrcChanged: function () {\n\t\tvar src = this.src || null;\n\t\tsrc = ri.selectSrc(src);\n\t\tif (src) {\n\t\t\tif (src != 'none' && src != 'inherit' && src != 'initial') {\n\t\t\t\tsrc = 'url(' + path.rewrite(src) + ')';\n\t\t\t}\n\t\t}\n\t\tthis.applyStyle('background-image', src);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ticonChanged: function (old) {\n\t\tvar icon = this.get('icon') || '',\n\t\t\ticonEntity = icons[icon] || icon;\n\n\t\t// If the icon isn't in our known set, apply our custom font class\n\t\tthis.addRemoveClass('font-lg-icons', !icons[icon]);\n\n\t\tthis.set('content', iconEntity);\n\n\t\tif (icons[old]) {\n\t\t\tthis.removeClass(this.getIconClass(old));\n\t\t}\n\t\tif (icons[icon]) {\n\t\t\tthis.addClass(this.getIconClass());\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tthis.addRemoveClass('small', this.small);\n\t\t// Now that our content area is ready, assign the icon\n\t\tthis.iconChanged();\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityLabel', 'accessibilityHint'], method: function () {\n\t\t\tvar label = this.accessibilityHint && this.accessibilityLabel && (this.accessibilityLabel + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tnull;\n\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Tooltip~Tooltip} kind.\n* @module moonstone/Tooltip\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tPopup = require('enyo/Popup'),\n\tComponent = require('enyo/Component'),\n\tSignals = require('enyo/Signals'),\n\tri = require('enyo/resolution');\n\nvar pointerTemplate = '<path d=\"M0,5C0,3,1,0,3,0H0V5Z\"/>';\n\n// To prevent lingering tooltips, we're monitoring spotlight changes and tooltip display\n// to ensure that only 1 tooltip is active.\n// see BHV-14524, ENYO-247\nvar observer = new Component({\n\n\t/**\n\t* Last active tooltip\n\t* @private\n\t*/\n\tactive: null,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: Signals, onSpotlightCurrentChanged: 'spotChanged'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tactiveChanged: function (was) {\n\t\tif(was) {\n\t\t\twas.waterfall('onRequestHideTooltip');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotChanged: function (sender, event) {\n\t\tthis.set('active', null);\n\t}\n});\n\n/**\n* Provides uppercasing and checks text directionality for controls within a\n* {@link module:moonstone/Tooltip~Tooltip}.\n*\n* @class TooltipContent\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar TooltipContent = kind({\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TooltipContent',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* When `true`, the content will have locale-safe uppercasing applied.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\tuppercase: true,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis._content = this.content;\n\t\tControl.prototype.create.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function (was, is) {\n\t\tif (arguments.length) this._content = is;\n\t\tthis.content = this.uppercase ? util.toUpperCase(this._content) : this._content;\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t\tthis.detectTextDirectionality();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function (was, is) {\n\t\tthis.contentChanged();\n\t}\n});\n\n/**\n* {@link module:moonstone/Tooltip~Tooltip} is a popup that works in conjunction\n* with {@link module:moonstone/TooltipDecorator~TooltipDecorator}. The tooltip\n* is automatically displayed when the user hovers over the decorator for a given\n* period of time. The tooltip is positioned around the decorator where there is\n* available window space.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('moonstone/Button'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: Button, content: 'Tooltip'},\n* \t\t{kind: Tooltip, content: 'I am a tooltip for a button.'}\n* \t]}\n* ```\n*\n* You may force the tooltip to appear by calling its\n* [show()]{@link module:enyo/Control~Control#show} method.\n*\n* @class Tooltip\n* @extends module:enyo/Popup~Popup\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Tooltip~Tooltip.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Tooltip',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Popup,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: TooltipContent,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-tooltip below left-arrow',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Tooltip~Tooltip.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* This value overrides the default value of\n\t\t* [autoDismiss]{@link module:enyo/Popup~Popup#autoDismiss} inherited from\n\t\t* {@link module:enyo/Popup~Popup}.\n\t\t* If `true`, the tooltip will hide when the user taps outside of it or presses\n\t\t* ESC. Note that this property only affects behavior when the tooltip is used\n\t\t* independently, not when it is used with\n\t\t* [TooltipDecorator]{@link module:moonstone/TooltipDecorator~TooltipDecorator}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tautoDismiss: false,\n\n\t\t/**\n\t\t* This value overrides the default value of\n\t\t* [floating]{@link module:enyo/Popup~Popup#floating} inherited from\n\t\t* {@link module:enyo/Popup~Popup}.\n\t\t* If 'false', the tooltip will not be rendered in a\n\t\t* [floating layer]{@link module:enyo/Control/floatingLayer~FloatingLayer} and can be ocluded\n\t\t* by other controls. Otherwise if `true`, the tooltip will be shown on top of other controls.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tfloating: true,\n\n\t\t/**\n\t\t* Hovering over the decorator for this length of time (in milliseconds) causes the\n\t\t* tooltip to appear.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 500\n\t\t* @public\n\t\t*/\n\t\tshowDelay: 500,\n\n\t\t/**\n\t\t* Position of the tooltip with respect to the activating control. Valid values are\n\t\t* `'above'`, `'below'`, `'left top'`, `'left bottom'`, `'right top'`, `'right bottom'`, and\n\t\t* `'auto'`. The values starting with `'left`' and `'right'` place the tooltip on the side\n\t\t* (sideways tooltip) with two additional positions available, `'top'` and `'bottom'`, which\n\t\t* places the tooltip content toward the top or bottom, with the tooltip pointer\n\t\t* middle-aligned to the activator.\n\t\t*\n\t\t* Note: The sideways tooltip does not automatically switch sides if it gets too close or\n\t\t* overlaps with the window bounds, as this may cause undesirable layout implications,\n\t\t* covering your other controls.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'auto'\n\t\t* @public\n\t\t*/\n\t\tposition: 'auto',\n\n\t\t/**\n\t\t* Default `margin-left` value.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tdefaultLeft: 0,\n\n\t\t/**\n\t\t* When `true`, the content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Tooltip~Tooltip#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tcontentUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcaptureEvents: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonRequestShowTooltip: 'requestShow',\n\t\tonRequestHideTooltip: 'requestHide'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{name: 'point', kind: Control, classes: 'moon-tooltip-point', tag: 'svg', attributes: {viewBox: '0 0 3 5'}, allowHtml: true, content: pointerTemplate},\n\t\t{name: 'client', kind: Control, classes: 'moon-tooltip-label moon-header-font'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.createChrome(this.tools);\n\t\tPopup.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tPopup.prototype.create.apply(this, arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the contentUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.contentUpperCase !== null) this.uppercase = this.contentUpperCase;\n\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tthis.detectTextDirectionality();\n\t\tvar content = this.getContent();\n\t\tthis.$.client.setContent( this.get('uppercase') ? util.toUpperCase(content) : content);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// contentUpperCase is fully deprecated and removed.\n\t\tif (this.contentUpperCase != this.uppercase) this.contentUpperCase = this.uppercase;\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.contentUpperCase) this.uppercase = this.contentUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpositionChanged:function () {\n\t\tthis.adjustPosition(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestShow: function (inSender, inEvent) {\n\t\tobserver.set('active', this);\n\t\tthis.activator = inEvent.originator;\n\t\tthis.startJob('showJob', 'show', this.showDelay);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcancelShow: function () {\n\t\tthis.stopJob('showJob');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestHide: function () {\n\t\tthis.cancelShow();\n\t\treturn Popup.prototype.requestHide.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function () {\n\t\tthis.cancelShow();\n\t\tPopup.prototype.showingChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyPosition: function (inRect) {\n\t\tvar s = '';\n\t\tfor (var n in inRect) {\n\t\t\ts += (n + ':' + inRect[n] + (isNaN(inRect[n]) ? '; ' : 'px; '));\n\t\t}\n\t\tthis.addStyles(s);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustPosition: function (belowActivator) {\n\t\tif (this.showing && this.hasNode()) {\n\t\t\tvar b = this.node.getBoundingClientRect(),\n\t\t\t\tmoonDefaultPadding = ri.scale(18),\n\t\t\t\tdefaultMargin = ri.scale(21),\n\t\t\t\tfloating = this.get('floating'),\n\t\t\t\tacNode = this.activator.hasNode(),\n\t\t\t\tpBounds = this.parent.getAbsoluteBounds(),\n\t\t\t\tacBounds = this.activator.getAbsoluteBounds(),\n\t\t\t\tacBorders;\n\n\t\t\t//* Calculate the difference between decorator and activating\n\t\t\t//* control's top, left, right differences, position tooltip against\n\t\t\t//* the activating control instead of the decorator accordingly.\n\t\t\tvar paTopDiff = pBounds.top - acBounds.top,\n\t\t\t\tpaLeftDiff =  acBounds.left - pBounds.left,\n\t\t\t\tpaRightDiff = pBounds.left + pBounds.width - acBounds.left - acBounds.width,\n\t\t\t\tacRight = window.innerWidth - moonDefaultPadding - acBounds.left - acBounds.width,\n\t\t\t\trtl = this.parent.rtl,\t// Must check the parent because the text may have been auto-flipped due to content's direction\n\t\t\t\tanchorLeft, anchorSide, offset;\n\n\t\t\tif (this.position == 'auto') this.position = 'above';\t// Choose a rational default\n\n\t\t\t// Restore to generic state\n\t\t\tthis.removeClass('above');\n\t\t\tthis.removeClass('below');\n\t\t\tthis.removeClass('top');\n\t\t\tthis.removeClass('bottom');\n\t\t\tthis.removeClass('left-arrow');\n\t\t\tthis.removeClass('right-arrow');\n\n\t\t\tif (rtl) {\n\t\t\t\tanchorLeft = pBounds.left + pBounds.width / 2 - moonDefaultPadding < b.width;\n\t\t\t} else {\n\t\t\t\t//* When there is not enough room on the left, using right-arrow for the tooltip\n\t\t\t\tanchorLeft = window.innerWidth - moonDefaultPadding - pBounds.left - pBounds.width / 2 >= b.width;\n\t\t\t}\n\n\t\t\tif (floating) {\n\t\t\t\toffset = acRight + moonDefaultPadding;\n\t\t\t} else {\n\t\t\t\toffset = paRightDiff;\n\t\t\t\t// we need to account for activator border widths if we are not floating\n\t\t\t\tacBorders = dom.calcBoxExtents(acNode, 'border');\n\t\t\t}\n\n\t\t\t//* Check if have a compound position, 2 words:\n\t\t\tif (this.position && this.position.indexOf(' ') >= 0) {\n\t\t\t\tanchorSide = true;\n\t\t\t\tvar positions = this.position.split(' '),\n\t\t\t\t\tlr = positions[0],\t// This should be either 'left' or 'right'\n\t\t\t\t\ttb = positions[1],\t// This should be either 'top' or 'bottom'\n\t\t\t\t\trelTop = 0,\n\t\t\t\t\trelLeft = 0;\n\n\t\t\t\tthis.addClass(tb);\n\n\t\t\t\t// Calculate the absolute top coordinate\n\t\t\t\trelTop = (acBounds.height / 2);\n\t\t\t\tif (tb == 'top') {\n\t\t\t\t\t// We're below, alter the absTop value as necessary\n\t\t\t\t\trelTop -= b.height;\n\t\t\t\t}\n\n\t\t\t\t// detrmine the side, and if RTL, just do the opposite.\n\t\t\t\tif ((lr == 'left' && !rtl) || (lr == 'right' && rtl)) {\n\t\t\t\t\tthis.addClass('right-arrow');\n\t\t\t\t\trelLeft = -(b.width + defaultMargin + (floating ? 0 : acBorders.left));\n\t\t\t\t} else if ((lr == 'right' && !rtl) || (lr == 'left' && rtl)) {\n\t\t\t\t\tthis.addClass('left-arrow');\n\t\t\t\t\trelLeft = acNode.clientWidth + defaultMargin + (floating ? acBounds.width - acNode.clientWidth : acBorders.right);\n\t\t\t\t}\n\n\t\t\t\tif (floating) {\n\t\t\t\t\t// Absolute (floating) measurements are based on the relative positions\n\t\t\t\t\t// Adjusting as needed.\n\t\t\t\t\trelTop = acBounds.top + relTop;\n\t\t\t\t\trelLeft = acBounds.left + relLeft;\n\t\t\t\t}\n\n\t\t\t\tthis.applyPosition({'top': dom.unit(relTop, 'rem'), 'left': dom.unit(relLeft, 'rem'), 'right': 'auto'});\n\n\t\t\t} else {\n\t\t\t\t//* When there is not enough room in the bottom, move it above the\n\t\t\t\t//* decorator; when the tooltip bottom is within window height but\n\t\t\t\t//* set programmatically above, move it above\n\t\t\t\tif ((window.innerHeight - moonDefaultPadding) - (pBounds.top + pBounds.height) < b.height + defaultMargin || (this.position == 'above')) {\n\t\t\t\t\tthis.addClass('above');\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit((acBounds.top - b.height - defaultMargin),'rem'), 'left': dom.unit(acBounds.left + acBounds.width / 2, 'rem'), 'right': 'auto'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(-(b.height + defaultMargin + paTopDiff + acBorders.top), 'rem'), 'left': dom.unit(acBounds.width / 2 + paLeftDiff, 'rem'), 'right': 'auto'});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//* When there is not enough space above the parent container, move\n\t\t\t\t//* it below the decorator; when there is enough space above the\n\t\t\t\t//* parent container but is set programmatically, leave it below\n\t\t\t\tif (pBounds.top < (b.height + defaultMargin) || (this.position == 'below') || this.hasClass('below')) {\n\t\t\t\t\tthis.removeClass('above');\t// Above class may have been added in the `if` check above, then need to be removed because the tooltip didn't fit on the screen.\n\t\t\t\t\tthis.addClass('below');\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(acBounds.top + acBounds.height + defaultMargin, 'rem'), 'left': dom.unit(acBounds.left + acBounds.width / 2, 'rem'), 'right': 'auto'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(this.parent.node.clientHeight + defaultMargin + paTopDiff + acBorders.bottom, 'rem'), 'left': dom.unit(acBounds.width / 2 + paLeftDiff, 'rem'), 'right': 'auto'});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (anchorLeft) {\n\t\t\t\t\tthis.addClass('left-arrow');\n\t\t\t\t} else {\n\t\t\t\t\tthis.addClass('right-arrow');\n\t\t\t\t\tthis.applyPosition({'margin-left': dom.unit(- b.width, 'rem'), 'left': 'auto'});\n\t\t\t\t\tthis.applyStyle('right', dom.unit(acBounds.width / 2 + offset, 'rem'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleResize: function () {\n\t\tthis.applyPosition({'margin-left': this.defaultLeft, 'bottom': 'auto'});\n\t\tthis.adjustPosition(true);\n\t\tPopup.prototype.handleResize.apply(this, arguments);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* When `true`, the contents of the popup will be read when shown.\n\t*\n\t* @default true\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityReadAll: true,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityReadAll', 'accessibilityRole', 'showing'], method: function () {\n\t\t\tthis.startJob('alert', function () {\n\t\t\t\tthis.setAriaAttribute('role', this.accessibilityReadAll && this.showing ? 'alert' : this.accessibilityRole);\n\t\t\t}, 100);\n\t\t}}\n\t]\n});\n\nmodule.exports.Content = TooltipContent;\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/RichText~RichText} kind.\n* @module moonstone/RichText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tRichText = require('enyo/RichText');\n\n/**\n* {@link module:moonstone/RichText~RichText} is a Moonstone-styled text input\n* field with support for rich text formatting such as bold, italics, and\n* underlining, derived from {@link module:enyo/RichText~RichText}. Typically, a\n* `moonstone/RichText` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides\n* styling, e.g.:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tRichText = require('moonstone/RichText');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: RichText, style: 'width: 240px;', onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class RichText\n* @extends module:enyo/RichText~RichText\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/RichText~RichText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.RichText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: RichText,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-richtext',\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tRichText.prototype.create.apply(this, arguments);\n\t\tthis.disabledChanged();\n\t},\n\n\t/**\n\t* Sets the focus on the RichText.\n\t*\n\t* @public\n\t*/\n\tfocus: function () {\n\t\tRichText.prototype.focus.apply(this, arguments);\n\t\tvar node = this.hasNode();\n\t\t// We move the cursor to the end, because in 5-way\n\t\t// mode there is no way (other than backspacing) for\n\t\t// the user to move the caret within the text field\n\t\tthis.moveCursorToEnd();\n\t\tnode.scrollTop = node.scrollHeight;\n\t},\n\n\t/**\n\t* Removes focus from the RichText.\n\t*\n\t* @public\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* Piggyback onto {@link module:enyo/RichText~RichText#blurHandler}.\n\t*\n\t* @private\n\t* @method\n\t*/\n\tblurHandler: function () {\n\t\tRichText.prototype.blurHandler.apply(this, arguments);\n\t\tthis.hasNode().scrollTop = 0;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tRichText.prototype.disabledChanged.apply(this, arguments);\n\t\tif (this.disabled) {\n\t\t\tthis.attributes.contenteditable = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function () {\n\t\tvar sel = this.getSelection();\n\t\tif (sel.rangeCount) {\n\t\t\tvar selRange = sel.getRangeAt(0);\n\t\t\tvar testRange = selRange.cloneRange();\n\n\t\t\ttestRange.selectNodeContents(this.node);\n\t\t\ttestRange.setEnd(selRange.startContainer, selRange.startOffset);\n\n\t\t\tif (testRange.toString() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function () {\n\t\tvar sel = this.getSelection();\n\t\tif (sel.rangeCount) {\n\t\t\tvar selRange = sel.getRangeAt(0);\n\t\t\tvar testRange = selRange.cloneRange();\n\n\t\t\ttestRange.selectNodeContents(this.node);\n\t\t\ttestRange.setStart(selRange.endContainer, selRange.endOffset);\n\n\t\t\tif (testRange.toString() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function (inEvent) {\n\t\treturn this.left();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (inEvent) {\n\t\treturn this.right();\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/TextArea~TextArea} kind.\n* @module moonstone/TextArea\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tTextArea = require('enyo/TextArea');\n\n/**\n* {@link module:moonstone/TextArea~TextArea} is a Moonstone-styled text input\n* field, derived from {@link module:enyo/TextArea~TextArea}. Typically, a\n* `moonstone/TextArea` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides\n* styling, e.g.:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tTextArea = require('moonstone/TextArea');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: TextArea, onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class TextArea\n* @extends module:enyo/TextArea~TextArea\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/TextArea~TextArea.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TextArea',\n\n\t/**\n\t* @private\n\t*/\n\tkind: TextArea,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-textarea',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightIgnoredKeys: [13, 16777221],\t// 13==Enter, 16777221==KeypadEnter\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonblur: 'blurred'\n\t},\n\n\t/**\n\t* Sets the focus on the TextArea.\n\t*\n\t* @public\n\t*/\n\tfocus: function () {\n\t\tTextArea.prototype.focus.apply(this, arguments);\n\t\tvar node = this.hasNode();\n\t\t// We move the cursor to the end, because in 5-way\n\t\t// mode there is no way (other than backspacing) for\n\t\t// the user to move the caret within the text field\n\t\tnode.selectionStart = this.value.length;\n\t\tnode.scrollTop = node.scrollHeight;\n\t},\n\n\t/**\n\t* Removes focus from the TextArea.\n\t*\n\t* @public\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurred: function () {\n\t\tthis.hasNode().scrollTop = 0;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function (inEvent) {\n\t\tif (!this.hasNode() || this.node.selectionStart === 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function (inEvent) {\n\t\tif (!this.hasNode() || this.node.selectionStart == this.node.value.length) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function (inEvent) {\n\t\treturn this.left(inEvent);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (inEvent) {\n\t\treturn this.right(inEvent);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/HighlightText~HighlightText} kind.\n* @module moonstone/HighlightText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tControl = require('enyo/Control'),\n\tHTMLStringDelegate = require('enyo/HTMLStringDelegate');\n\n/**\n* Event sent to {@link module:moonstone/HighlightText~HighlightText} to turn on highlighting.\n*\n* @event module:moonstone/HighlightText~HighlightText#onHighlight\n* @type {Object}\n* @property {String|RegExp} highlight - String or regular expression specifying the text or\n*\tpattern to highlight.\n* @public\n*/\n\n/**\n* Event sent to {@link module:moonstone/HighlightText~HighlightText} to turn off highlighting. No additional data\n* is sent with this event.\n*\n* @event module:moonstone/HighlightText~HighlightText#onUnHighlight\n* @type {Object}\n* @public\n*/\n\nvar HighlightTextDelegate = Object.create(HTMLStringDelegate);\n\nHighlightTextDelegate.generateInnerHtml = function (control) {\n\tvar i = 0, child;\n\t// flow can alter the way that html content is rendered inside\n\t// the container regardless of whether there are children.\n\tcontrol.flow();\n\tif (control.children.length) {\n\t\t// If marqueeText is created inside of highlightText then it needs to pass search keyword to children\n\t\tfor (; (child = control.children[i]); ++i) {\n\t\t\tchild.search = control.search;\n\t\t\tchild.highlightClasses = control.highlightClasses; // this is not included in search, so passing it\n\t\t}\n\t\treturn this.generateChildHtml(control);\n\t}\n\telse {\n\t\tif (control.search && control.content) {\n\t\t\treturn control.content.replace(control.search, control.bindSafely(function (s) {\n\t\t\t\treturn '<span style=\\'pointer-events:none;\\' class=\\'' + this.highlightClasses + '\\'>' + dom.escape(s) + '</span>';\n\t\t\t}));\n\t\t} else {\n\t\t\treturn dom.escape(control.get('content'));\n\t\t}\n\t}\n};\n\n/**\n* {@link module:moonstone/HighlightText~HighlightText} is a control that displays highlighted text.  When\n* the [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} property is set or an\n* [onHighlight]{@link module:moonstone/HighlightText~HighlightText#onHighlight} event is received,\n* it will highlight a specified string if that string is found within the\n* control's content.\n*\n* For example, let's say we have the following control:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tHighlightText = require('moonstone/HighlightText');\n*\n* \t{kind: HighlightText, name: 'myHT', content: 'Hello World!'}\n* ```\n* In response to the event\n*\n* ```\n* \tthis.waterfall('onHighlight', {highlight: 'Hello'});\n* ```\n* or the direct API call\n*\n* ```\n* \tthis.$.myHT.set('highlight', 'Hello');\n* ```\n*\n* the word \"Hello\" will be highlighted.\n*\n* The highlighting will be turned off when an\n* [onUnHighlight]{@link module:moonstone/HighlightText~HighlightText#onUnHighlight} event is received\n*\n* ```\n* \tthis.waterfall('onUnHighlight');\n* ```\n* or when [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} is set to a **falsy** value.\n*\n* ```\n* \tthis.$.myHT.set('highlight', '');\n* ```\n*\n* @class HighlightText\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/HighlightText~HighlightText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.HighlightText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/HighlightText~HighlightText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* String or regular expression specifying the text or pattern to highlight.\n\t\t* Setting this to an empty string, a **falsy** value, or an empty regex\n\t\t* will disable highlighting.\n\t\t*\n\t\t* @type {String|RegExp}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\thighlight: '',\n\n\t\t/**\n\t\t* If `true`, only case-sensitive matches of the string to highlight will be\n\t\t* highlighted.  This property will be ignored if the\n\t\t* [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} property is set to a regular\n\t\t* expression (you may use the `'i'` modifier to create a case-insensitive regex).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcaseSensitive: false,\n\n\t\t/**\n\t\t* The default CSS class to apply to highlighted content.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-highlight-text-highlighted'\n\t\t* @public\n\t\t*/\n\t\thighlightClasses: 'moon-highlight-text-highlighted'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trenderDelegate: HighlightTextDelegate,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonHighlight: 'onHighlightHandler',\n\t\tonUnHighlight: 'unHighlightHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.highlightChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thighlightChanged: function () {\n\t\tif (this.highlight) {\n\t\t\tif (this.highlight instanceof RegExp) {\n\t\t\t\t// Make sure the regex isn't empty\n\t\t\t\tthis.search = (''.match(this.highlight)) ? null : this.highlight;\n\t\t\t} else {\n\t\t\t\t// Escape string for use in regex (standard regex escape from google)\n\t\t\t\tvar escaped = this.highlight.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n\t\t\t\tthis.search = new RegExp(escaped, this.caseSensitive ? 'g' : 'ig');\n\t\t\t}\n\t\t} else {\n\t\t\tthis.search = false;\n\t\t}\n\t\tif (this.hasNode()) {\n\t\t\tthis.contentChanged();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcaseSensitiveChanged: function () {\n\t\tthis.highlightChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonHighlightHandler: function (inSender, inEvent) {\n\t\tthis.setHighlight(inEvent.highlight);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tunHighlightHandler: function (inSender, inEvent) {\n\t\tthis.setHighlight('');\n\t\treturn true;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Input~Input} kind.\n* @module moonstone/Input\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tInput = require('enyo/Input');\n\nvar\n\tSpotlight = require('spotlight');\n\n/**\n* {@link module:moonstone/Input~Input} is a Moonstone-styled input control, derived from\n* {@link module:enyo/Input~Input}. Typically, a `moonstone/Input` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides styling, e.g.:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: Input, placeholder: 'Enter some text...', onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class Input\n* @extends module:enyo/Input~Input\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Input~Input.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Input',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Input,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-input',\n\n\t/**\n\t* 13==Enter, 16777221==KeypadEnter\n\t*\n\t* @private\n\t*/\n\tspotlightIgnoredKeys: [13, 16777221],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Input~Input.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* When `true`, input blurs on Enter keypress (if focused).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdismissOnEnter: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonkeyup    : 'onKeyUp',\n\t\tonblur     : 'onBlur',\n\t\tonfocus    : 'onFocus'\n\t},\n\n\t/**\n\t* Used only for [dismissOnEnter]{@link module:moonstone/Input~Input#dismissOnEnter} feature;\n\t* we cannot rely on `hasFocus()` in this case due to race condition.\n\t*\n\t* @private\n\t*/\n\t_bFocused: false,\n\n\t/**\n\t* @private\n\t*/\n\tonFocus: function () {\n\t\tvar node = this.hasNode();\n\n\t\tif (this.dismissOnEnter) {\n\t\t\tvar oThis = this;\n\t\t\tutil.asyncMethod(this, function () {oThis._bFocused = true;});\n\t\t}\n\t\t// Force cursor to end of text during a generic focus event. Creating the input by compiling\n\t\t// a string of text with value=\"this.value\" produces different initial caret position than\n\t\t// using node.setAttribute('value', this.value), which is what would happen any time after\n\t\t// the initial creation. The initial end-position of the caret is required to support\n\t\t// Virtual keyboards because without arrow-keys because normal left/right arrow navigation\n\t\t// in inputs is impossible, so the caret must be positioned at the end to allow for deletion\n\t\t// of the previous input. We are intentionally setting the value to force the cursor to the\n\t\t// end of the text. `selectionStart` is the obvious choice, but it is not supported in\n\t\t// certain types of fields (i.e. number, email).\n\t\tif (node) node.value = this.get('value');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonBlur: function () {\n\t\tif (this.dismissOnEnter) {\n\t\t\tthis._bFocused = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonKeyUp: function (oSender, oEvent) {\n\t\tif (this.dismissOnEnter) {\n\t\t\tif (oEvent.keyCode == 13 && this._bFocused) {\n\t\t\t\tthis.blur();\n\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\tSpotlight.unspot();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function () {\n\t\tif (!this.hasNode() || this.node.selectionStart === 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function () {\n\t\tif (!this.hasNode() || this.node.selectionStart == this.node.value.length) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function () {\n\t\treturn false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function () {\n\t\treturn false;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/IconButton~IconButton} kind.\n* @module moonstone/IconButton\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tIcon = require('../Icon');\n\n/**\n* {@link module:moonstone/IconButton~IconButton} is a {@link module:moonstone/Icon~Icon} that acts like a button. Specify\n* the icon image by setting the [src]{@link module:moonstone/Icon~Icon#src} property to a URL\n* indicating the image file's location.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIconButton = require('moonstone/IconButton');\n*\n* \t{kind: IconButton, src: 'moonstone/src/assets/search.png'}\n* ```\n*\n* If you want to combine an icon with text inside of a button, use a\n* {@link module:moonstone/Icon~Icon} inside a\n* {@link module:moonstone/Button~Button}.\n*\n* Moonstone supports two methods for displaying icons; in addition to specifying\n* traditional image assets in `src`, you may use icons that are stored as single\n* characters in a special symbol font. To do this, set the value of the\n* [icon]{@link module:moonstone/Icon~Icon#icon} property to a string representing\n* an icon name, e.g.:\n*\n* ```javascript\n* \t{kind: IconButton, icon: 'closex'}\n* ```\n*\n* See {@link module:moonstone/Icon~Icon} for more information on the available font-based icons,\n* as well as specifications for icon image assets.\n*\n* @class IconButton\n* @extends module:moonstone/Icon~Icon\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/IconButton~IconButton.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.IconButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Icon,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/IconButton~IconButton.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Used when the IconButton is part of an {@link module:enyo/Group~Group}. A value of `true`\n\t\t* indicates that this is the active button of the group; `false`, that it is not\n\t\t* the active button.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tactive: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the button.\n\t\t* If `true`, the button will have a diameter of 60px.\n\t\t* However, the button's tap target will still have a diameter of 78px, with\n\t\t* invisible DOM wrapping the small button to provide the larger tap zone.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tsmall: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [backgroundOpacity]{@link module:moonstone/IconButton~IconButton#backgroundOpacity}.\n\t\t*\n\t\t* If `true`, the button will have no rounded background color/border.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tnoBackground: false,\n\n\t\t/**\n\t\t* The background-color opacity of this button; valid values are `'opaque'`, `'translucent'`,\n\t\t* and `'transparent'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default opaque\n\t\t* @public\n\t\t*/\n\t\tbackgroundOpacity: 'opaque'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-icon-button',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\n\t\t/**\n\t\t* Simulates mousedown.\n\t\t*/\n\t\tonSpotlightKeyDown: 'depress',\n\n\t\t/**\n\t\t* Simulates mouseup.\n\t\t*/\n\t\tonSpotlightKeyUp: 'undepress',\n\n\t\t/**\n\t\t* Used to request it is in view in scrollers.\n\t\t*/\n\t\tonSpotlightFocused: 'spotlightFocused',\n\n\t\tonSpotlightBlur: 'spotlightBlurred'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tIcon.prototype.create.apply(this, arguments);\n\t\tif (this.noBackground) {\n\t\t\tthis.noBackgroundChanged();\n\t\t}\n\t\tthis.backgroundOpacityChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tIcon.prototype.rendered.apply(this, arguments);\n\t\tthis.activeChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnoBackgroundChanged: function () {\n\t\tthis.set('backgroundOpacity', this.noBackground ? 'transparent' : 'opaque');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function () {\n\t\tif (this.disabled) {\n\t\t\treturn true;\n\t\t}\n\t\tthis.setActive(true);\n\t},\n\n\t/**\n\t* @fires module:enyo/GroupItem~GroupItem#onActivate\n\t* @private\n\t*/\n\tactiveChanged: function () {\n\t\tthis.bubble('onActivate');\n\t},\n\n\t/**\n\t* Adds `pressed` CSS class.\n\t* @private\n\t*/\n\tdepress: function (inSender, inEvent) {\n\t\tif (inEvent.keyCode === 13) {\n\t\t\tthis.addClass('pressed');\n\t\t}\n\t},\n\n\t/**\n\t* Removes `pressed` CSS class.\n\t* @private\n\t*/\n\tundepress: function () {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotlightFocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurred: function (sender, event) {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacityChanged: function (old) {\n\t\tvar opacity = this.backgroundOpacity;\n\t\tif (old) this.removeClass(old);\n\t\tif (opacity == 'translucent' || opacity == 'transparent') {\n\t\t\tthis.addClass(opacity);\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default 'button'\n\t* @type {String}\n\t* @see {@link module:enyo/AccessibilitySupport~AccessibilitySupport#accessibilityRole}\n\t* @public\n\t*/\n\taccessibilityRole: 'button'\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Marquee~MarqueeSupport} mixin and the {@link module:moonstone/Marquee~MarqueeText} &\n* {@link module:moonstone/Marquee~MarqueeDecorator} kinds.\n* @module moonstone/Marquee\n*/\n\nvar kind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tplatform = require('enyo/platform'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tComponent = require('enyo/Component'),\n\tSignals = require('enyo/Signals');\n\nvar\n\toptions = require('../options'),\n\tHighlightText = require('../HighlightText');\n\nvar exports = module.exports = {};\n\n/**\n* There are a couple scenarios (window blurs and changing from pointer mode to 5-way) in which\n* we'd like to stop an actively on-hover marqueeing control. This private instance manages\n* those events centrally to minimize unnecessary Signal's subscribers.\n*\n* @private\n*/\nvar observer = new Component({\n\n\t/**\n\t* @private\n\t*/\n\thoverControl: null,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: Signals, onSpotlightModeChanged: 'handleModeChanged', onblur: 'handleBlur'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_setMarqueeOnHoverControl: function(oControl) {\n\t\tthis.hoverControl = oControl;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_getMarqueeOnHoverControl: function() {\n\t\treturn this.hoverControl;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleModeChanged: function (sender, event) {\n\t\tif (!event.pointerMode && this.hoverControl) {\n\t\t\tthis.hoverControl._marquee_leave();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleBlur: function (sender, event) {\n\t\tif (this.hoverControl) {\n\t\t\tthis.hoverControl._marquee_leave();\n\t\t}\n\t}\n});\n\n/**\n* Fires to queue up a list of child animations.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarquee\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @property {Boolean} marqueePause - The desired duration in milliseconds that the\n* marquee will pause at the end of the animation, before resetting to the beginning.\n* @property {Number} marqueeSpeed - The desired speed for the marquee animation,\n* in pixels per second.\n* @private\n*/\n\n/**\n* Fires to start marquee animation in a child marquee.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @private\n*/\n\n/**\n* Fires to halt marquee animation in a child marquee.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @private\n*/\n\n/**\n* Fires to enable animation in a child marquee. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeEnable\n* @type {Object}\n* @private\n*/\n\n/**\n* Fires to disable animation in a child marquee. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeDisable\n* @type {Object}\n* @private\n*/\n\n/**\n* Fires when marquee ends. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeItem#onMarqueeEnded\n* @type {Object}\n* @private\n*/\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeSupport} [mixin]{@glossary mixin} should be used with controls\n* that contain multiple marquees whose animation behavior should be synchronized. Calling\n* [this.startMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#startMarquee} or\n* [this.stopMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#stopMarquee} will start or stop all\n* contained marquees.\n*\n* The following properties, defined on the base kind to which the mixin is applied,\n* control the marquee behavior:\n*\n* [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight}: When `true`, marquee\n* starts when control is spotlight focused and ends when it is spotlight blurred.\n*\n* [marqueeOnHover]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnHover}: When `true`, marquee runs\n* while control is hovered over with the mouse. This property is ignored if\n* `marqueeOnSpotlight` is `true`.\n*\n* [marqueeOnRender]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender}: When `true`, marquee starts\n* running as soon as control is rendered, and runs continuously.\n*\n* [marqueeSpeed]{@link module:moonstone/Marquee~MarqueeSupport#marqueeSpeed}: The speed of the marquee animation,\n* in pixels per second.\n*\n* [marqueeDelay]{@link module:moonstone/Marquee~MarqueeSupport#marqueeDelay}: The delay between spotlight\n* focus/hover and the start of the animation. (This is only used when either\n* `marqueeOnSpotlight` or `marqueeOnHover` is `true`).\n*\n* [marqueeOnRenderDelay]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRenderDelay}: Used when you want\n* the marquee to run on render, after a specified delay.\n*\n* [marqueePause]{@link module:moonstone/Marquee~MarqueeSupport#marqueePause}: The duration in milliseconds that\n* the marquee will pause at the end of the animation, before resetting to the beginning.\n*\n* @mixin\n* @public\n*/\nvar MarqueeSupport = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'MarqueeSupport',\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_Handlers: {\n\t\tonRequestStartMarquee: '_marquee_requestStartMarquee',\n\t\tonSpotlightFocused: '_marquee_spotlightFocused',\n\t\tonSpotlightBlur: '_marquee_spotlightBlur',\n\t\tonenter: '_marquee_enter',\n\t\tonleave: '_marquee_leave',\n\t\tonMarqueeEnded: '_marquee_marqueeEnded',\n\t\tonresize: '_marquee_resize',\n\n\t\t// Stop propagation of requests coming from parent MarqueeSupport's, since\n\t\t// only this MarqueeSupport should be controlling its subordinate children\n\t\tonRequestMarquee: '_marquee_stopPropagation',\n\t\tonRequestMarqueeStart: '_marquee_stopPropagation',\n\t\tonRequestMarqueeStop: '_marquee_stopPropagation'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_active: false,\n\n\t/**\n\t* When `true`, marquee starts when the control is {@link Spotlight} focused and ends\n\t* when it is spotlight blurred.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnSpotlight: undefined,\n\n\t/**\n\t* When `true`, marquee runs while the control is hovered over with the mouse. This\n\t* property is ignored if [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight}\n\t* is `true`.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnHover: undefined,\n\n\t/**\n\t* When `true`, marquee starts running as soon as the control is rendered, and runs\n\t* continuously.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnRender: undefined,\n\n\t/**\n\t* The speed of the marquee animation, in pixels per second.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeSpeed: undefined,\n\n\t/**\n\t* The delay between spotlight focus/hover and the start of the animation. (This is only\n\t* used when either [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight} or\n\t* [marqueeOnHover]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnHover} is `true`.)\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeDelay: undefined,\n\n\t/**\n\t* Used when you want the marquee to run on render, after a specified delay.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnRenderDelay: undefined,\n\n\t/**\n\t* The duration in milliseconds that the marquee will pause at the end of the\n\t* animation, before resetting to the beginning.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueePause: undefined,\n\n\t/**\n\t* Initializes marquee timings.\n\t*\n\t* @method\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.marqueeOnSpotlight = (this.marqueeOnSpotlight === undefined) ? true : this.marqueeOnSpotlight;\n\t\t\tthis.marqueeOnHover =  (this.marqueeOnHover ===   undefined) ? false :  this.marqueeOnHover;\n\t\t\tthis.marqueeSpeed =    (this.marqueeSpeed ===     undefined) ? 60 :    this.marqueeSpeed;\n\t\t\tthis.marqueeDelay =    (this.marqueeDelay ===     undefined) ? 1000 :  this.marqueeDelay;\n\t\t\tthis.marqueePause =    (this.marqueePause ===     undefined) ? 1000 :  this.marqueePause;\n\t\t\tthis.marqueeHold  =    (this.marqueeHold  ===     undefined) ? 2000 :  this.marqueeHold;\n\t\t\tthis.marqueeOnRender = (this.marqueeOnRender  === undefined) ? false : this.marqueeOnRender;\n\t\t\tthis.marqueeOnRenderDelay = (this.marqueeOnRenderDelay === undefined) ? this.marqueeDelay : this.marqueeOnRenderDelay;\n\t\t};\n\t}),\n\n\t/**\n\t* If {@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender} is `true`, kicks off marquee animation.\n\t*\n\t* @method\n\t* @private\n\t*/\n\trendered: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tif (this.marqueeOnRender && !this.disabled) {\n\t\t\t\tthis.startMarqueeCustomDelay(this.marqueeOnRenderDelay);\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tteardownRender: kind.inherit(function (sup) {\n\t\treturn function (caching) {\n\t\t\tif (caching && this._marquee_active) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t}\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdestroy: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tif (this === observer._getMarqueeOnHoverControl()) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(null);\n\t\t\t}\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdispatchEvent: kind.inherit(function (sup) {\n\t\treturn function (sEventName, oEvent, oSender) {\n\t\t\t// Needed for proper onenter/onleave handling\n\t\t\tif (this.strictlyInternalEvents[sEventName] && this.isInternalEvent(oEvent)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// FIXME: not sure why events can arrive without event objects, but we guard here for safety\n\t\t\tif (oEvent && !oEvent.delegate) {\n\t\t\t\tvar handler = this._marquee_Handlers[sEventName];\n\t\t\t\tif (handler){\n\t\t\t\t\tthis.cachePoint = true;\n\t\t\t\t\tif(this[handler](oSender, oEvent)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn sup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* Handles external requests to kick off {@link module:moonstone/Marquee~MarqueeSupport#marqueeStart}.\n\t*\n\t* @private\n\t*/\n\t_marquee_requestStartMarquee: function () {\n\t\tif (this.marqueeOnRender) {\n\t\t\tthis.stopMarquee();\n\t\t\tthis.startMarquee();\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* On focus, starts child marquees.\n\t*\n\t* @private\n\t*/\n\t_marquee_spotlightFocused: function (sender, ev) {\n\t\tthis._marquee_isFocused = true;\n\t\tif (this.marqueeOnSpotlight) {\n\t\t\tthis.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* On blur, halts child marquees.\n\t*\n\t* @private\n\t*/\n\t_marquee_spotlightBlur: function (sender, ev) {\n\t\tthis._marquee_isFocused = false;\n\t\tif (this.marqueeOnSpotlight && !this.marqueeOnRender) {\n\t\t\tthis.stopMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enter: function (sender, ev) {\n\t\tthis._marquee_isHovered = true;\n\t\tif ((this.marqueeOnHover && !this.marqueeOnSpotlight) ||\n\t\t(this.disabled && this.marqueeOnSpotlight)) {\n\t\t\tif (this.marqueeOnHover) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(this);\n\t\t\t}\n\t\t\tthis.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_leave: function (sender, ev) {\n\t\tthis._marquee_isHovered = false;\n\t\tif ((this.marqueeOnHover && !this.marqueeOnSpotlight) || (this.disabled && this.marqueeOnSpotlight)) {\n\t\t\tif (this.marqueeOnHover) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(null);\n\t\t\t}\n\t\t\tif (!this.marqueeOnRender) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_stopPropagation: function (sender, ev) {\n\t\tif (ev.originator != this) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* When a child marquee animation completes, removes the child from\n\t* [marqueeWaitList]{@link module:moonstone/Marquee~MarqueeSupport#marqueeWaitList}.\n\t*\n\t* @private\n\t*/\n\t_marquee_marqueeEnded: function (sender, ev) {\n\t\tif (this._marquee_active) {\n\t\t\tutil.remove(ev.originator, this.marqueeWaitList);\n\t\t\tif (this.marqueeWaitList.length === 0) {\n\t\t\t\tthis._marquee_startHold();\n\t\t\t\tthis._marquee_active = false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_resize: function (sender, ev) {\n\t\tif (this.marqueeOnSpotlight && this._marquee_active) {\n\t\t\tthis._marquee_active = false;\n\t\t\tthis._marquee_startHold();\n\t\t}\n\t},\n\n\t/**\n\t* Starts timer to waterfall an\n\t* [onRequestMarqueeStart]{@link module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart} event\n\t* that kicks off marquee animation on all child marquees.\n\t*\n\t* @public\n\t*/\n\tstartMarquee: function () {\n\t\tthis.startMarqueeCustomDelay(this.marqueeDelay);\n\t},\n\n\t/**\n\t* Waterfalls an [onRequestMarqueeStop]{@link module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop}\n\t* event to halt all running child marquees.\n\t*\n\t* @public\n\t*/\n\tstopMarquee: function () {\n\t\tthis.stopJob('marqueeSupportJob');\n\t\tthis.stopJob('resetMarquee');\n\t\tthis._marquee_active = false;\n\t\tthis._marquee_stopChildMarquees();\n\t},\n\n\t/**\n\t* @public\n\t*/\n\tenableMarquee: function () {\n\t\tthis._marquee_enableChildMarquees();\n\t},\n\n\t/**\n\t* @public\n\t*/\n\tdisableMarquee: function () {\n\t\tthis.stopMarquee();\n\t\tthis._marquee_disableChildMarquees();\n\t},\n\n\t/**\n\t* Adds the passed-in [control]{@link module:enyo/Control~Control} to the list of marquee items.\n\t*\n\t* @param {Object} control  The [control]{@link module:enyo/Control~Control} to add.\n\t* @public\n\t*/\n\taddMarqueeItem: function (control) {\n\t\tthis.marqueeWaitList.push(control);\n\t},\n\n\t/**\n\t* Restarts marquee if needed (depending on the\n\t* [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight} and\n\t* [marqueeOnRender]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender} settings).\n\t*\n\t* @public\n\t*/\n\tresetMarquee: function () {\n\t\tif ((this.marqueeOnSpotlight && this._marquee_isFocused) ||\n\t\t\t(this.marqueeOnHover && this._marquee_isHovered) ||\n\t\t\tthis.marqueeOnRender) {\n\t\t\t// Batch multiple requests to reset from children being hidden/shown\n\t\t\tthis.startJob('resetMarquee', '_resetMarquee', 10);\n\t\t}\n\t},\n\n\t/**\n\t* Starts Marquee after a specified delay. Used to provide different delays for `onRender`\n\t* and `onSpotlight/Hover`.\n\t*\n\t* @param {Number} delay  Length of delay in milliseconds\n\t* @public\n\t*/\n\tstartMarqueeCustomDelay: function (delay) {\n\t\tthis._marquee_buildWaitList();\n\n\t\tif (this.marqueeWaitList.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_active = true;\n\t\tthis.startJob('marqueeSupportJob', '_marquee_startChildMarquees', delay);\n\t},\n\n\t/**\n\t* Stops and restarts the marquee animations.\n\t*\n\t* @private\n\t*/\n\t_resetMarquee: function () {\n\t\tthis.stopMarquee();\n\t\tif (this.marqueeOnRender) { this.startMarqueeCustomDelay(this.marqueeOnRenderDelay); }\n\t\telse { this.startMarquee(); }\n\t},\n\n\t/**\n\t* Waterfalls request for child animations to build up\n\t* [marqueeWaitList]{@link module:moonstone/Marquee~MarqueeSupport#marqueeWaitList}.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarquee\n\t* @private\n\t*/\n\t_marquee_buildWaitList: function () {\n\t\tthis.marqueeWaitList = [];\n\t\tthis.waterfall('onRequestMarquee', {originator: this, marqueePause: this.marqueePause, marqueeSpeed: this.marqueeSpeed});\n\t},\n\n\t/**\n\t* Waterfalls event to kick off child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart\n\t* @private\n\t*/\n\t_marquee_startChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeStart', {originator: this});\n\t},\n\n\t/**\n\t* Waterfalls event to halt child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop\n\t* @private\n\t*/\n\t_marquee_stopChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeStop', {originator: this});\n\t},\n\n\t/**\n\t* Waterfalls event to enable child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeEnable\n\t* @private\n\t*/\n\t_marquee_enableChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeEnable');\n\t},\n\n\t/**\n\t* Waterfalls event to disable child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeDisable\n\t* @private\n\t*/\n\t_marquee_disableChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeDisable');\n\t},\n\n\t/**\n\t* Begins delayed restart of child marquee animations.\n\t*\n\t* @private\n\t*/\n\t_marquee_startHold: function () {\n\t\tthis.startJob('marqueeSupportJob', 'startMarquee', this.marqueeHold);\n\t}\n};\n\nexports.Support = MarqueeSupport;\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeItem} mixin is used to add marquee animation functionality\n* to a control.\n*\n* @mixin\n* @public\n*/\nvar MarqueeItem = {\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* {@link module:moonstone/Marquee~MarqueeItem#onMarqueeEnded}\n\t\t*/\n\t\tonMarqueeEnded:''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marqueeItem_Handlers: {\n\t\tonRequestMarquee: '_marquee_requestMarquee',\n\t\tonRequestMarqueeStart: '_marquee_startAnimation',\n\t\tonRequestMarqueeStop: '_marquee_stopAnimation',\n\t\tonRequestMarqueeEnable: '_marquee_enable',\n\t\tonRequestMarqueeDisable: '_marquee_disable',\n\t\tontransitionend: '_marquee_animationEnded'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tobservers: {\n\t\t_marquee_contentChanged: ['content'],\n\t\t_marquee_centeredChanged: ['centered'],\n\t\t_marquee_wrapInsteadOfMarqueeChanged: ['wrapInsteadOfMarquee']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: '.allowHtml', to:'.$.marqueeText.allowHtml'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-marquee',\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdispatchEvent: kind.inherit(function (sup) {\n\t\treturn function (sEventName, oEvent, oSender) {\n\t\t\tif (sup.apply(this, arguments)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (oEvent && !oEvent.delegate) {\n\t\t\t\tvar handler = this._marqueeItem_Handlers[sEventName];\n\t\t\t\tif (handler && this[handler](oSender, oEvent)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enabled: true,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_distance: null,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_fits: null,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_puppetMaster: null,\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.detectTextDirectionality();\n\t\t\tthis._marquee_wrapInsteadOfMarqueeChanged();\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\trendered: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\t// There is a known issue where a parent control that modifies the layout will\n\t\t\t// invalidate the measurements used to detect the proper alignment, which can\n\t\t\t// result in the appropriate text-align rule not being applied. For example, this\n\t\t\t// can occur with a moon.Header that is located inside a moon.Scroller which has\n\t\t\t// vertical scrollbars visible.\n\t\t\tthis._marquee_detectAlignment();\n\t\t\tsetTimeout(util.bindSafely(this, this._marquee_calcDistance), platform.firefox ? 100 : 16);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\treflow: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis._marquee_invalidateMetrics();\n\t\t\tthis._marquee_calcDistance();\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tshowingChangedHandler: kind.inherit(function (sup) {\n\t\treturn function (sender, event) {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis._marquee_reset();\n\t\t\tif(this.showing && event.showing){\n\t\t\t\tthis._marquee_calcDistance();\n\t\t\t} else {\n\t\t\t\t//if the marquee isn't showing we should reset its spotlight focus\n\t\t\t\tif (this._marquee_puppetMaster) {\n\t\t\t\t\tthis._marquee_puppetMaster._marquee_spotlightBlur();\n\t\t\t\t} else if (this._marquee_spotlightBlur) {\n\t\t\t\t\tthis._marquee_spotlightBlur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* We must measure the content (after render) to determine if it's marqueeable, then to set\n\t* its alignment to left if the content was explicitly set to LTR earlier. This happens when\n\t* the locale is set to a RTL language, but your string contains no RTL characters in it.\n\t* Therefore it's LTR, and if it's marqueeable, should be left aligned, so it marquees in the\n\t* natural marqueeing direction.\n\t*\n\t* @param {Boolean} [forceAnimate]  Override the animation check (only accepts `true`). Use\n\t*\tthis if you know already, because you've already measured that you will need to marquee.\n\t* @param {Boolean} [forceRtl]  Override the internal RTL property, in case you know better.\n\t* @private\n\t*/\n\t_marquee_detectAlignment: function (forceAnimate, forceRtl) {\n\t\tvar alignment = null,\n\t\t\trtl = forceRtl || this.rtl;\n\n\t\t// We only attempt to set the alignment of this control if the locale's directionality\n\t\t// differs from the directionality of our current marqueeable control (as determined by\n\t\t// the control's content or is explicitly specified).\n\t\tif (Control.prototype.rtl != rtl || this.centered) {\n\t\t\t// If we will be marqueeing, we know the alignment needs to be set based on directionality.\n\t\t\tif (forceAnimate || this._marquee_shouldAnimate()) {\n\t\t\t\tif (rtl) {\n\t\t\t\t\talignment = 'right';\n\t\t\t\t} else {\n\t\t\t\t\talignment = 'left';\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Alignment wasn't set yet, so we know we don't need to animate. Now we can center the text if we're supposed to.\n\t\t\tif (!alignment && this.centered) {\n\t\t\t\talignment = 'center';\n\t\t\t}\n\t\t}\n\n\t\tthis.set('_marquee_alignment', alignment);\n\t},\n\n\t/**\n\t* Reset the marquee distance if the alignment changes, since now we'll have to calculate the\n\t* size again.\n\t*\n\t* @private\n\t*/\n\t_marquee_alignmentChanged: function () {\n\t\tthis.applyStyle('text-align', this._marquee_alignment);\n\t\tthis._marquee_invalidateMetrics();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_invalidateMetrics: function () {\n\t\tthis._marquee_distance = null;\n\t\tthis._marquee_fits = null;\n\t},\n\n\t/**\n\t* When the content of this control changes, updates the content of\n\t* `this.$.marqueeText` (if it exists).\n\t*\n\t* @private\n\t*/\n\t_marquee_contentChanged: function () {\n\t\tthis.detectTextDirectionality();\n\t\tif (this.$.marqueeText) {\n\t\t\tthis.$.marqueeText.setContent(this.content);\n\t\t}\n\t\tif (this.generated) {\n\t\t\tthis._marquee_invalidateMetrics();\n\t\t\tthis._marquee_detectAlignment();\n\t\t\tthis._marquee_calcDistance();\n\t\t}\n\t\tthis._marquee_reset();\n\t},\n\n\t/**\n\t* If this control needs to marquee, lets the event originator know.\n\t*\n\t* @private\n\t*/\n\t_marquee_requestMarquee: function (sender, ev) {\n\t\tif (!ev || !this.showing || this._marquee_fits) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_puppetMaster = ev.originator;\n\t\tev.originator.addMarqueeItem(this);\n\n\t\tthis.marqueePause = ev.marqueePause || 1000;\n\t\tthis.marqueeSpeed = ev.marqueeSpeed || 60;\n\t},\n\n\t/**\n\t* Starts marquee animation.\n\t*\n\t* @private\n\t*/\n\t_marquee_startAnimation: function (sender, ev) {\n\t\tvar distance;\n\n\t\t// if this control hasn't been generated, there's no need to follow through on\n\t\t// marquee requests as we'll be unable to correctly measure the distance delta yet\n\t\tif (!this.generated) return;\n\n\t\t// Lazy creation of _this.$.marqueeText_\n\t\tif (!this.$.marqueeText) {\n\t\t\tthis._marquee_createMarquee();\n\t\t}\n\n\t\tdistance = this._marquee_calcDistance();\n\n\t\t// If there is no need to animate, return early\n\t\tif (!this._marquee_shouldAnimate(distance)) {\n\t\t\tthis._marquee_fits = true;\n\t\t\tthis.doMarqueeEnded();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_addAnimationStyles(distance);\n\n\t\tif (this.$.marqueeText) { return true; }\n\t\t//if we should animate marquee (distance > 0) but can`t do this\n\t\t//(this.$.marqueeText == undefined (marquee has children)) we fire doMarqueeEnded\n\t\t//to remove marquee from marquee wait list\n\t\telse { this.doMarqueeEnded(); }\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enable: function () {\n\t\tthis.set('_marquee_enabled', true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_disable: function () {\n\t\tthis.set('_marquee_enabled', false);\n\t\tthis._marquee_stopAnimation();\n\t},\n\n\t/**\n\t* Stops marquee animation.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeItem#onMarqueeEnded\n\t* @private\n\t*/\n\t_marquee_stopAnimation: function (sender, ev) {\n\t\tthis.stopJob('stopMarquee');\n\t\tthis._marquee_removeAnimationStyles();\n\t\tthis.doMarqueeEnded();\n\t},\n\n\t/**\n\t* When animation ends, starts `this.stopMarquee` job.\n\t*\n\t* @private\n\t*/\n\t_marquee_animationEnded: function (sender, ev) {\n\t\tif (ev.originator !== this.$.marqueeText) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startJob('stopMarquee', '_marquee_stopAnimation', this.marqueePause);\n\t\treturn true;\n\t},\n\n\t/**\n\t* Returns `true` if this control has enough content to animate.\n\t*\n\t* @private\n\t*/\n\t_marquee_shouldAnimate: function (distance) {\n\t\tdistance = (distance && distance >= 0) ? distance : this._marquee_calcDistance();\n\t\treturn (distance > 0);\n\t},\n\n\t/**\n\t* Determines how far the marquee needs to scroll.\n\t*\n\t* @private\n\t*/\n\t_marquee_calcDistance: function () {\n\t\tvar node, rect;\n\n\t\tif (this.$.marqueeText) {\n\t\t\tnode = this.$.marqueeText.hasNode();\n\t\t\tif (node && this._marquee_distance == null && this.getAbsoluteShowing()) {\n\t\t\t\trect = node.getBoundingClientRect();\n\t\t\t\tthis._marquee_distance = Math.floor(Math.abs(node.scrollWidth - rect.width));\n\n\t\t\t\t//if the distance is exactly 0, then the ellipsis\n\t\t\t\t//most likely are hiding the content, and marquee does not\n\t\t\t\t//need to animate\n\t\t\t\tif(this._marquee_distance === 0) {\n\t\t\t\t\tthis.applyStyle('text-overflow', 'clip');\n\t\t\t\t\tthis.$.marqueeText && this.$.marqueeText.applyStyle('text-overflow', 'clip');\n\t\t\t\t} else {\n\t\t\t\t\tthis.applyStyle('text-overflow', 'ellipsis');\n\t\t\t\t\tthis.$.marqueeText && this.$.marqueeText.applyStyle('text-overflow', 'ellipsis');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this._marquee_distance;\n\t},\n\n\t/**\n\t* Returns duration based on `distance` and `this.marqueeSpeed`.\n\t*\n\t* @private\n\t*/\n\t_marquee_calcDuration: function (distance) {\n\t\treturn distance / this.marqueeSpeed;\n\t},\n\n\t/**\n\t* Creates a marquee-able `div` inside of `this`.\n\t*\n\t* @private\n\t*/\n\t_marquee_createMarquee: function () {\n\t\t// Do not create marqueeText when there are children\n\t\t// because we don't know what should be the controlParent\n\t\tif (this.children && this.children.length > 0) return;\n\t\tvar marqueeText = {name: 'marqueeText', kind: Control, classes: 'moon-marquee-text', allowHtml: this.allowHtml, content: this.content},\n\t\t\thighlightText = null,\n\t\t\twrapper;\n\n\t\tif (this instanceof HighlightText) {\n\t\t\tdom.setInnerHtml(this.hasNode(), '');\n\t\t\thighlightText = {renderDelegate: this.renderDelegate, highlightClasses: this.highlightClasses, search: this.search};\n\t\t\tmarqueeText = util.mixin(marqueeText, highlightText);\n\t\t}\n\t\twrapper = this.createComponent({name: 'marqueeTextWrapper', kind: Control, classes: 'moon-marquee-text-wrapper', components: [marqueeText]});\n\t\twrapper.renderInto(this.hasNode());\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_addAnimationStyles: function (distance) {\n\t\tif (!this.$.marqueeText) return;\n\t\tvar duration = this._marquee_calcDuration(distance);\n\n\t\tthis.$.marqueeText.addClass('animate-marquee');\n\n\t\tif (options.accelerate) {\n\t\t\tdom.transform(this.$.marqueeText, {translateZ: 0});\n\t\t\tthis.$.marqueeText.applyStyle('transition', 'transform ' + duration + 's linear');\n\t\t\tthis.$.marqueeText.applyStyle('-webkit-transition', '-webkit-transform ' + duration + 's linear');\n\t\t} else {\n\t\t\tthis.$.marqueeText.applyStyle('transition', 'left ' + duration + 's linear');\n\t\t\tthis.$.marqueeText.applyStyle('-webkit-transition', 'left ' + duration + 's linear');\n\t\t}\n\n\t\t// Need this timeout for FF!\n\t\tsetTimeout(this.bindSafely(function () {\n\t\t\tif (options.accelerate) {\n\t\t\t\tdom.transform(this.$.marqueeText, {translateX: this._marquee_adjustDistanceForRTL(distance) + 'px'});\n\t\t\t} else {\n\t\t\t\tthis.$.marqueeText.applyStyle('left', this._marquee_adjustDistanceForRTL(distance) + 'px');\n\t\t\t}\n\t\t}), platform.firefox ? 100 : 16);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_removeAnimationStyles: function () {\n\t\tif (!this.$.marqueeText) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.marqueeText.applyStyle('transition-duration', '0s');\n\t\tthis.$.marqueeText.applyStyle('-webkit-transition-duration', '0s');\n\n\t\t// Need this timeout for FF!\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tsetTimeout(this.bindSafely(function () {\n\t\t\tthis.$.marqueeText.removeClass('animate-marquee');\n\t\t\tif (options.accelerate) {\n\t\t\t\tdom.transform(this.$.marqueeText, {translateX: null, translateZ: null});\n\t\t\t} else {\n\t\t\t\tthis.$.marqueeText.applyStyle('left', null);\n\t\t\t}\n\t\t}), platform.firefox ? 100 : 0);\n\t},\n\n\t/**\n\t* Flips distance value for RTL support.\n\t*\n\t* @private\n\t*/\n\t_marquee_adjustDistanceForRTL: function (distance) {\n\t\treturn this.rtl ? distance : distance * -1;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_reset: function () {\n\t\tthis._marquee_invalidateMetrics();\n\t\tif (this._marquee_puppetMaster) {\n\t\t\tthis._marquee_puppetMaster.resetMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_centeredChanged: function () {\n\t\tthis._marquee_detectAlignment();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_wrapInsteadOfMarqueeChanged: function(old) {\n\t\tif (this.wrapInsteadOfMarquee) {\n\t\t\tthis.addClass('allow-wrap');\n\t\t\tif (this.$.marqueeText) {\n\t\t\t\tthis.$.marqueeTextWrapper.destroy();\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t}\n\t\tif (old && !this.wrapInsteadOfMarquee) {\n\t\t\tthis.removeClass('allow-wrap');\n\t\t\t// FIXME: Performing creation here to workaround potential WebKit measuring issue\n\t\t\t// with scrollWidth (under-measures by 10px when marquee components are destroyed\n\t\t\t// when we switch wrapInsteadofMarquee from `false` to `true`, and back to `false`).\n\t\t\tthis._marquee_createMarquee();\n\t\t}\n\t}\n};\n\nexports.Item = MarqueeItem;\n\n/**\n* {@link module:moonstone/Marquee~MarqueeText} is a basic text control that supports marquee animation.\n* When MarqueeText objects are used inside a\n* [MarqueeDecorator]{@link module:moonstone/Marquee~MarqueeDecorator}, the decorator synchronizes\n* their start times; the user may start a marquee programmatically by calling\n* [startMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#startMarquee}.\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tHeader = require('moonstone/Header'),\n* \t\tMarqueeSupport = require('moonstone/Marquee').Support,\n* \t\tMarqueeText = require('moonstone/Marquee').Text;\n*\n* \tmodule.exports = kind({\n* \t\tname: Header,\n* \t\tmixins: [MarqueeSupport],\n* \t\tmarqueeSpeed: 100,\n* \t\tcomponents: [\n* \t\t\t{kind: MarqueeText, content: 'longText+longText'},\n* \t\t\t{kind: MarqueeText, content: 'longText'}\n* \t\t],\n* \t\trendered: function () {\n* \t\t\tthis.startMarquee();\n* \t\t}\n* \t});\n* ```\n*\n* To add the marquee feature to a kind, simply use the\n* [MarqueeSupport]{@link module:moonstone/Marquee~MarqueeSupport} mixin:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('enyo/Button'),\n* \t\tMarqueeSupport = require('moonstone/Marquee').Support,\n* \t\tMarqueeText = require('moonstone/Marquee').Text;\n*\n* \tmodule.exports = kind({\n* \t\tname: 'MarqueeButton',\n* \t\tkind: Button,\n* \t\tmixins: [MarqueeSupport],\n* \t\tcomponents: [\n* \t\t\t{kind: MarqueeText}\n* \t\t],\n* \t\tcontentChanged: function () {\n* \t\t\tthis.$.marqueeText.setContent(this.content);\n* \t\t}\n* \t});\n* ```\n*\n* @class MarqueeText\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/Marquee~MarqueeItem\n* @ui\n* @public\n*/\nexports.Text = kind(\n\t/** @lends module:moonstone/Marquee~MarqueeText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MarqueeText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeItem],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Marquee~MarqueeText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The speed of the marquee animation, in pixels per second.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 60\n\t\t* @public\n\t\t*/\n\t\tmarqueeSpeed: 60,\n\n\t\t/**\n\t\t* The duration in milliseconds that the marquee will pause at the end of the\n\t\t* animation, before resetting to the beginning.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 1000\n\t\t* @public\n\t\t*/\n\t\tmarqueePause: 1000,\n\n\t\t/**\n\t\t* When `true`, marqueeing will not occur.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false,\n\n\t\t/**\n\t\t* When `true`, text is centered; otherwise, it is left-aligned.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tcentered: false,\n\n\t\t/**\n\t\t* When `true`, element wraps instead of marqueeing.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\twrapInsteadOfMarquee: false\n\t}\n});\n\n/**\n* {@link module:moonstone/Marquee~MarqueeDecorator} is a wrapper for {@link module:moonstone/Marquee~MarqueeText} objects.\n*\n* @class MarqueeDecorator\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/Marquee~MarqueeSupport\n* @ui\n* @public\n*/\nvar MarqueeDecorator = kind(\n\t/** @lends module:moonstone/Marquee~MarqueeDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MarqueeDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tstyle: 'overflow: hidden;'\n});\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeDecorator} export\n* @public\n*/\nexports.Decorator = MarqueeDecorator;\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/InputDecorator~InputDecorator} kind.\n* @module moonstone/InputDecorator\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tToolDecorator = require('enyo/ToolDecorator');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\t$L = require('../i18n'),\n\tInput = require('../Input'),\n\tRichText = require('../RichText'),\n\tTextArea = require('../TextArea'),\n\tTooltip = require('../Tooltip');\n\n/**\n* {@link module:moonstone/InputDecorator~InputDecorator} is a control that provides input styling. Any controls\n* in the InputDecorator will appear to be inside an area styled as an input. Usually,\n* an InputDecorator surrounds a {@link module:moonstone/Input~Input}:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: Input}\n* \t]}\n* ```\n*\n* Other controls, such as buttons, may be placed to the right or left of the\n* input control, e.g.:\n*\n* ```\n* \tvar\n* \t\tIconButton = require('moonstone/IconButton');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: IconButton, src: 'moonstone/src/assets/search.png'},\n* \t\t{kind: Input},\n* \t\t{kind: IconButton, src: 'moonstone/src/assets/cancel.png'}\n* \t]}\n* ```\n*\n* Note that the InputDecorator fits around the content inside it. If the\n* decorator is sized, then its contents will likely need to be sized as well.\n*\n* ```\n* \t{kind: InputDecorator, style: 'width: 500px;', components: [\n* \t\t{kind: Input, style: 'width: 100%;'}\n* \t]}\n* ```\n*\n* @class InputDecorator\n* @extends module:enyo/ToolDecorator~ToolDecorator\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/InputDecorator~InputDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.InputDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: ToolDecorator,\n\n\t/**\n\t* When `true`, the message tooltip is shown if it exists.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tinvalid: false,\n\n\t/**\n\t* The tooltip text to be displayed when the contents of the input are invalid. If this value is\n\t* falsy, the tooltip will not be shown.\n\t*\n\t* @type {String}\n\t* @default ''\n\t* @public\n\t*/\n\tinvalidMessage: '',\n\n\t/**\n\t* @private\n\t*/\n\ttag: 'label',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDecorate: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonDisabledChange    : 'disabledChangeHandler',\n\t\tonfocus             : 'focusHandler',\n\t\tonblur              : 'blurHandler',\n\t\tonSpotlightFocused  : 'spotlightFocusedHandler',\n\t\tonSpotlightSelect   : 'spotlightSelectHandler',\n\t\tonSpotlightBlur     : 'spotlightBlurHandler',\n\t\tonSpotlightLeft     : 'spotlightLeftHandler',\n\t\tonSpotlightRight    : 'spotlightRightHandler',\n\t\tonSpotlightUp       : 'spotlightUpHandler',\n\t\tonSpotlightDown     : 'spotlightDownHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{name: 'tooltip', kind: Tooltip, floating: false, position: 'right top'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tobservers: [\n\t\t{path: ['invalid', 'invalidMessage'], method: 'updateValidity'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_oInputControl: null,\n\n\t/**\n\t* Returns boolean indicating whether passed-in control is an input field.\n\t*\n\t* @private\n\t*/\n\t_isInput: function (oControl) {\n\t\treturn (\n\t\t\toControl instanceof Input\t\t||\n\t\t\toControl instanceof RichText\t||\n\t\t\toControl instanceof TextArea\n\t\t);\n\t},\n\n\t/**\n\t* Traverses tree of children to find input control.\n\t*\n\t* @private\n\t*/\n\t_findInputControl: function (oControl) {\n\t\toControl = oControl || this;\n\n\t\tvar oInputControl = null;\n\n\t\tfor (var n=0; n<oControl.children.length; n++) {\n\t\t\tif (this._isInput(oControl.children[n])) {\n\t\t\t\treturn oControl.children[n];\n\t\t\t}\n\t\t\tif ((oInputControl = this._findInputControl(oControl.children[n]))) {\n\t\t\t\treturn oInputControl;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tToolDecorator.prototype.create.apply(this, arguments);\n\t\tthis.updateFocus(false);\n\t\tthis._oInputControl = this._findInputControl();\n\t\tif (this._oInputControl instanceof Input) {\n\t\t\tthis.addClass('moon-divider-text moon-input-decorator');\n\t\t}\n\t\tif (this._oInputControl instanceof TextArea || this._oInputControl instanceof RichText) {\n\t\t\tthis.addClass('moon-divider-text moon-textarea-decorator');\n\t\t}\n\n\t\tthis.updateValidity();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateComponent: function () {\n\t\tvar ret = ToolDecorator.prototype.createComponent.apply(this, arguments);\n\t\tthis._oInputControl = this._findInputControl();\n\t\treturn ret;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateComponents: function () {\n\t\tvar ret = ToolDecorator.prototype.createComponents.apply(this, arguments);\n\t\tthis._oInputControl = this._findInputControl();\n\t\treturn ret;\n\t},\n\n\t/**\n\t* Updates styling based on focus state.\n\t*\n\t* @param {Boolean} bFocus - Whether to add/remove `moon-focused` class.\n\t* @public\n\t*/\n\tupdateFocus: function (bFocus) {\n\t\tthis.set('focused', bFocus);\n\t\tthis.addRemoveClass('moon-focused', this.alwaysLooksFocused || this.focused);\n\t},\n\n\t/**\n\t* Retrieves the child input control.\n\t*\n\t* @returns {Object} A reference to the child input control.\n\t* @public\n\t*/\n\tgetInputControl: function () {\n\t\treturn this._oInputControl;\n\t},\n\n\t// Event handlers:\n\t/**************************************************/\n\n\t/**\n\t* @private\n\t*/\n\tfocusHandler: function (oSender, oEvent) {\n\t\tif (Spotlight.getCurrent() != this) {\n\t\t\t// Force a spot here, even when we're in pointer mode,\n\t\t\t// to ensure that clicks inside us (e.g. to position\n\t\t\t// the cursor) don't cause Spotlight to unfreeze\n\t\t\tSpotlight.spot(this, {focusType: 'point'});\n\t\t}\n\t\tSpotlight.freeze();\n\t\tthis.updateFocus(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurHandler: function () {\n\t\tSpotlight.unfreeze();\n\t\tthis.updateFocus(false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChangeHandler: function (oSender, oEvent) {\n\t\tthis.addRemoveClass('moon-disabled', oEvent.originator.disabled);\n\t},\n\n\t// Spotlight Event handlers:\n\t/**************************************************/\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotlightFocusedHandler: function () {\n\t\tthis.set('spotted', true);\n\t\tthis.bubble('onRequestScrollIntoView');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightSelectHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput) {\n\t\t\tif (oInput.hasFocus() && oEvent) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\toInput.focus();\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurHandler: function (oSender, oEvent) {\n\t\tthis.set('spotted', false);\n\t\tthis.blur();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightLeftHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.left) {\n\t\t\tif (oInput.left()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightLeft to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRightHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.right) {\n\t\t\tif (oInput.right()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightRight to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightUpHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.up) {\n\t\t\tif (oInput.up()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightUp to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDownHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.down) {\n\t\t\tif (oInput.down()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightLeft to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t// Change handlers\n\n\t/**\n\t* @private\n\t*/\n\tupdateValidity: function () {\n\t\tvar comps, length, i;\n\t\t// we want the ability to add the 'moon-invalid' class even if there is no invalid message\n\t\tthis.addRemoveClass('moon-invalid', this.invalid);\n\t\tif (this.invalid && this.invalidMessage) {\n\t\t\tif (!this.$.tooltip) { // lazy creation of tooltip\n\t\t\t\tcomps = this.createComponents(this.tools);\n\t\t\t\tif (this.hasNode()) {\n\t\t\t\t\t// rendering only the created tools, to prevent loss of focus on the input\n\t\t\t\t\tfor (i = 0, length = comps.length; i < length; i++) {\n\t\t\t\t\t\tcomps[i].render();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$.tooltip.activator = this;\n\t\t\t}\n\t\t\tthis.$.tooltip.set('content', this.invalidMessage);\n\t\t\tthis.$.tooltip.set('showing', true);\n\t\t} else if (this.$.tooltip) {\n\t\t\tthis.$.tooltip.set('showing', false);\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* spotted and focused can change in sequence but within the same cycle causing the TV to read\n\t* changes when spotting a different control. Enabling this will batch up those changes into\n\t* one DOM update thereby avoiding this behavior.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @private\n\t*/\n\taccessibilityDefer: true,\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['spotted', 'focused'], method: function () {\n\t\t\tvar text = '',\n\t\t\t\toInput = this.getInputControl();\n\n\t\t\tthis.set('accessibilityLive', this.focused || !this.spotted ? null : 'polite');\n\t\t\tif (oInput) {\n\t\t\t\tif (oInput instanceof RichText && oInput.hasNode()) {\n\t\t\t\t\ttext = (oInput.hasNode().innerText || oInput.getPlaceholder()) + ' ' + $L('edit box');\n\t\t\t\t} else if (oInput.type == 'password' && oInput.getValue()) {\n\t\t\t\t\tvar character = (oInput.getValue().length > 1) ? $L('characters') : $L('character');\n\t\t\t\t\ttext = oInput.getValue().length + ' ' + character + ' ' + $L('edit box');\n\t\t\t\t} else {\n\t\t\t\t\ttext = (oInput.getValue() || oInput.getPlaceholder()) + ' ' + $L('edit box');\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.set('accessibilityLabel', this.spotted && !this.focused ? text : null);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Button~Button} kind.\n* @module moonstone/Button\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tButton = require('enyo/Button');\n\nvar\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeText = Marquee.Text;\n\n/**\n* {@link module:moonstone/Button~Button} is an {@link module:enyo/Button~Button} with Moonstone styling applied.\n* The color of the button may be customized by specifying a background color.\n*\n* For more information, see the documentation on\n* [Buttons]{@linkplain $dev-guide/building-apps/controls/buttons.html} in the\n* Enyo Developer Guide.\n*\n* @class Button\n* @extends module:enyo/Button~Button\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Button~Button.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Button',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Button,\n\n\t/**\n\t* @private\n\t*/\n\ttag: 'span',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Button~Button.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the button. If `true`, the\n\t\t* button's diameter will be set to 60px. However, the button's tap target\n\t\t* will still have a diameter of 78px, with an invisible DOM element\n\t\t* wrapping the small button to provide the larger tap zone.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tsmall: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the minimum width of the button. When `true`,\n\t\t* the minimum width will be set to 180px (or 130px if [small]{@link module:moonstone/Button~Button#small}\n\t\t* is `true`). If `false`, the minimum width will be set to the current value of\n\t\t* `@moon-button-height` (thus forcing the button to be no smaller than a circle with\n\t\t* diameter `@moon-button-height`).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tminWidth: true,\n\n\t\t/**\n\t\t* When `true`, the content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Button~Button#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tcontentUpperCase: null,\n\n\t\t/**\n\t\t* The background-color opacity of this button; valid values are `'opaque'`, `'translucent'`,\n\t\t* and `'transparent'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'opaque'\n\t\t* @public\n\t\t*/\n\t\tbackgroundOpacity: 'opaque'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-large-button-text moon-button enyo-unselectable moon-composite',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\n\t\t/**\n\t\t* `onSpotlightSelect` simulates `mousedown`.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightKeyDown\t: 'depress',\n\n\t\t/**\n\t\t* `onSpotlightKeyUp` simulates `mouseup`.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightKeyUp\t: 'undepress',\n\n\t\t/**\n\t\t* Also make sure we remove the pressed class if focus is removed from\n\t\t* this item before it receives a keyup.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightBlur\t\t: 'undepress',\n\n\t\t/**\n\t\t* The handler for `onSpotlightFocused` bubbles a `requestScrollIntoView` event.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightFocused\t: 'spotFocused'\n\t},\n\n\t/**\n\t* On creation, updates based on value of `this.small`.\n\t*\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tif (!(this.components && this.components.length > 0)) {\n\t\t\tthis.createComponent({name: 'client', kind: MarqueeText, classes: 'button-client', isChrome: true});\n\t\t}\n\t\tif (this.small) this.smallChanged();\n\t\tif (this.minWidth) this.minWidthChanged();\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the contentUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.contentUpperCase !== null) this.uppercase = this.contentUpperCase;\n\n\t\tthis.contentChanged();\n\t\tthis.backgroundOpacityChanged();\n\t\tButton.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* Adds `pressed` CSS class.\n\t*\n\t* @private\n\t*/\n\tdepress: function (inSender, inEvent) {\n\t\tif (inEvent.keyCode === 13) {\n\t\t\tthis.addClass('pressed');\n\t\t}\n\t},\n\n\t/**\n\t* Bubbles `requestScrollIntoView` event.\n\t*\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotFocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t/**\n\t* Removes `pressed` CSS class.\n\t*\n\t* @private\n\t*/\n\tundepress: function () {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* If `this.small` is `true`, `taparea` dimensions are increased.\n\t*\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tif (this.small) {\n\t\t\tthis.addClass('small');\n\t\t\tthis.addClass('moon-small-button-text');\n\t\t} else {\n\t\t\tthis.removeClass('small');\n\t\t\tthis.removeClass('moon-small-button-text');\n\t\t}\n\t},\n\n\t/**\n\t* Override to handle potential child components.\n\t*\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tvar content = this.getContent();\n\t\tif (this.$.client) {\n\t\t\tthis.$.client.setContent( this.get('uppercase') ? util.toUpperCase(content) : content );\n\t\t} else {\n\t\t\tButton.prototype.contentChanged.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// contentUpperCase is fully deprecated and removed.\n\t\tif (this.contentUpperCase != this.uppercase) this.contentUpperCase = this.uppercase;\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.contentUpperCase) this.uppercase = this.contentUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tminWidthChanged: function () {\n\t\tif (this.minWidth) {\n\t\t\tthis.addClass('min-width');\n\t\t} else {\n\t\t\tthis.removeClass('min-width');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function () {\n\t\tButton.prototype.showingChanged.apply(this, arguments);\n\t\tif (!this.showing && this.hasClass('pressed')) {\n\t\t\tthis.undepress();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacityChanged: function (old) {\n\t\tvar opacity = this.backgroundOpacity;\n\t\tif (old) this.removeClass(old);\n\t\tif (opacity == 'translucent' || opacity == 'transparent') {\n\t\t\tthis.addClass(opacity);\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Header~Header} kind.\n* @module moonstone/Header\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control');\n\nvar\n\tInput = require('../Input'),\n\tInputDecorator = require('../InputDecorator'),\n\tStyleAnimator = require('../StyleAnimator'),\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeText = Marquee.Text;\n\nvar _delayedMeasurementFinished;\n\n/**\n* Custom input event to allow apps to distinguish header inputs from regular inputs.\n*\n* @event module:moonstone/Header~Header#onInputHeaderInput\n* @type {Object}\n* @property {Object} originalEvent - The original event fired from the input. See\n*\t{@link module:enyo/Input~Input#oninput} for more event information.\n* @public\n*/\n\n/**\n* Custom input change event to allow apps to distinguish header input changes from\n* regular input changes.\n*\n* @event module:moonstone/Header~Header#onInputHeaderChange\n* @type {Object}\n* @property {Object} originalEvent - The original event fired from the input. See\n*\t{@link module:enyo/Input~Input#onchange} for more event information.\n* @public\n*/\n\n/**\n* {@link module:moonstone/Header~Header} is a Moonstone-styled control with a large title and an area for\n* additional controls.\n*\n* @class Header\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Header~Header.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Header',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-header',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Header~Header.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Title of the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitle: '',\n\n\t\t/**\n\t\t* Text above the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleAbove: '',\n\n\t\t/**\n\t\t* Text below the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleBelow: '',\n\n\t\t/**\n\t\t* Sub-text below the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsubTitleBelow: '',\n\n\t\t/**\n\t\t* Size of the header, for styling purposes. Will be one of `'large'` (the default),\n\t\t* `'medium'`, or `'small'`. If `'large'`, the `moon-header` CSS class will be applied\n\t\t* to this header; if `'medium'`, the `moon-medium-header` class will be applied; if\n\t\t* `'small'`, the `moon-small-header` class will be applied.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'large'\n\t\t* @public\n\t\t*/\n\t\ttype: 'large',\n\n\t\t/**\n\t\t* If `true`, the `moon-medium-header` CSS class will be applied to this header.\n\t\t*\n\t\t* Note that this property will be deprecated soon. For now, it is being left in\n\t\t* for backward compatibility. Until it is removed, `small: true` refers to the\n\t\t* historical header size, which is now equivalent to `type: 'medium'`.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tsmall: false,\n\n\t\t/**\n\t\t* URL(s) of background image(s).\n\t\t* This may be a string referring a single background image, or an array of strings\n\t\t* referring to multiple background images. To support multiple background images at\n\t\t* multiple resolutions, this property accepts data in several formats:\n\t\t*\n\t\t* 1. A string `src` value\n\t\t* 2. An array of string `src` values\n\t\t* 3. A [multi-resolution hash]{@link module:enyo/resolution#selectSrc~src}\n\t\t* 4. An array of [multi-resolution hashes]{@link module:enyo/resolution#selectSrc~src}\n\t\t*\n\t\t* @type {(String|String[]|module:enyo/resolution#selectSrc~src|module:enyo/resolution#selectSrc~src[])}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tbackgroundSrc: null,\n\n\t\t/**\n\t\t* Position of background image, defined as a string of the form\n\t\t* `'<vertical> <horizontal>'`, with a space separating the `<vertical>`\n\t\t* and `<horizontal>` values (e.g., `'top right'`). If no second property\n\t\t* is specified, the `<horizontal>` value will default to `'right'`. As\n\t\t* with [backgroundSrc]{@link module:moonstone/Header~Header#backgroundSrc}, an array of strings\n\t\t* may be supplied to position multiple background images. The order of items\n\t\t* should be the same as in `backgroundSrc`.\n\t\t*\n\t\t* @type {(String|String[])}\n\t\t* @default 'top right'\n\t\t* @public\n\t\t*/\n\t\tbackgroundPosition: 'top right',\n\n\t\t/**\n\t\t* When using a full-bleed background image, set this property to `true` to indent\n\t\t* the header text/controls and remove the header lines.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tfullBleedBackground: false,\n\n\t\t/**\n\t\t* If `true`, title will be an input.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tinputMode: false,\n\n\t\t/**\n\t\t* When `true`, input will be blurred on Enter keypress, if it was previously\n\t\t* focused.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdismissOnEnter: false,\n\n\t\t/**\n\t\t* Text to display when the input is empty.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tplaceholder: '',\n\n\t\t/**\n\t\t* The value of the input.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tvalue: '',\n\n\t\t/**\n\t\t* When `true`, the title text will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Header~Header#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\ttitleUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnSpotlight: false,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnHover: true,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRender: true,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRenderDelay: 10000,\n\n\t/**\n\t* Described in .moon-header class\n\t*\n\t* @private\n\t*/\n\tstandardHeight: 360,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\toninput: 'handleInput',\n\t\tonchange: 'handleChange'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* Custom input event to allow apps to distinguish header inputs from regular inputs.\n\t\t*/\n\t\tonInputHeaderInput: '',\n\n\t\t/**\n\t\t* Custom input change event to allow apps to distinguish header input changes from\n\t\t* regular input changes.\n\t\t*/\n\t\tonInputHeaderChange: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'titleAbove', kind: Control, classes: 'moon-super-header-text moon-header-title-above'},\n\t\t{name: 'titleWrapper', kind: Control, classes: 'moon-header-title-wrapper', components: [\n\t\t\t{name: 'title', kind: MarqueeText, classes: 'moon-header-text moon-header-title', canGenerate: false},\n\t\t\t{name: 'inputDecorator', kind: InputDecorator, classes: 'moon-input-header-input-decorator',canGenerate: false, components: [\n\t\t\t\t{name: 'titleInput', kind: Input, classes: 'moon-header-text moon-header-title'}\n\t\t\t]}\n\t\t]},\n\t\t{name: 'titleBelow', kind: MarqueeText, classes: 'moon-sub-header-text moon-header-title-below'},\n\t\t{name: 'subTitleBelow', kind: MarqueeText, classes: 'moon-sub-header-text moon-header-sub-title-below'},\n\t\t{name: 'client', kind: Control, classes: 'moon-hspacing moon-header-client'},\n\t\t{name: 'animator', kind: StyleAnimator, onComplete: 'animationComplete'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: '.value', to: '.$.titleInput.value', oneWay: false},\n\t\t{from: '.dismissOnEnter', to: '.$.titleInput.dismissOnEnter'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis.inherited(arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the titleUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.titleUpperCase !== null) this.uppercase = this.titleUpperCase;\n\n\t\t// Note: This smallchanged() line will be deprecated soon. For backward compatiblity, I leave it for a\n\t\t// while.\n\t\tthis.smallChanged();\n\t\tthis.typeChanged();\n\t\tthis.titleChanged();\n\t\tthis.titleAboveChanged();\n\t\tthis.titleBelowChanged();\n\t\tthis.subTitleBelowChanged();\n\t\tthis.allowHtmlChanged();\n\t\tthis.backgroundSrcChanged();\n\t\tthis.backgroundPositionChanged();\n\t\tthis.inputModeChanged();\n\t\tthis.placeholderChanged();\n\t\tthis.fullBleedBackgroundChanged();\n\t},\n\n\trendered: function() {\n\t\tthis.inherited(arguments);\n\t\t// At the first render, the fonts may not have finished loading yet. We delay the first\n\t\t// time using an async method, and set a flag so we know the deed is done at subsequent calls.\n\t\tif (_delayedMeasurementFinished) {\n\t\t\tthis.adjustTitleWidth();\n\t\t} else {\n\t\t\tutil.asyncMethod(this, function () {\n\t\t\t\tthis.adjustTitleWidth();\n\t\t\t\t_delayedMeasurementFinished = true;\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tallowHtmlChanged: function () {\n\t\tthis.$.title.setAllowHtml( this.get('type') == 'small' ? true : this.allowHtml );\n\t\tthis.$.titleBelow.setAllowHtml(this.allowHtml);\n\t\tthis.$.subTitleBelow.setAllowHtml(this.allowHtml);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundSrcChanged: function () {\n\t\tvar bgs = (util.isArray(this.backgroundSrc)) ? this.backgroundSrc : [this.backgroundSrc];\n\t\tbgs = util.map(bgs, this.bindSafely(function (inBackgroundSource) {\n\t\t\t\treturn inBackgroundSource ? 'url(' + ri.selectSrc(inBackgroundSource) + ')' : null;\n\t\t\t}));\n\t\tthis.applyStyle('background-image', (bgs.length) ? bgs.join(', ') : null);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundPositionChanged: function () {\n\t\tvar bgp = this.backgroundPosition;\n\t\tif (util.isArray(bgp)) {\n\t\t\tbgp = (bgp.length) ? bgp.join(', ') : null;\n\t\t}\n\t\t// If `this.backgroundPosition` is set explicitly to inherit or initial, apply that\n\t\t// instead of assuming a position.\n\t\tif (bgp == 'inherit' || bgp == 'initial') {\n\t\t\tthis.applyStyle('background-position', bgp);\n\t\t\treturn;\n\t\t}\n\t\tvar posArray = bgp && bgp.split(' ') || [],\n\t\t\tposStr = (posArray.length === 0) ? 'top right'\n\t\t\t\t\t: (posArray.length === 1) ? posArray[0] + ' right' : bgp;\n\t\tthis.applyStyle('background-position', posStr);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfullBleedBackgroundChanged: function () {\n\t\tthis.addRemoveClass('full-bleed', this.fullBleedBackground);\n\t},\n\n\t/**\n\t* Collapses the drawer, hiding its contents.\n\t*\n\t* @public\n\t*/\n\tcollapseToSmall: function () {\n\t\tif (this.collapsed) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar myStyle = dom.getComputedStyle(this.hasNode());\n\t\tvar titleWrapperStyle = dom.getComputedStyle(this.$.titleWrapper.hasNode());\n\t\tvar titleBelowStyle = dom.getComputedStyle(this.$.titleBelow.hasNode());\n\t\tvar subTitleBelowStyle = dom.getComputedStyle(this.$.subTitleBelow.hasNode());\n\t\tvar titleAboveStyle = dom.getComputedStyle(this.$.titleAbove.hasNode());\n\n\t\t// TODO - animator should track initial positions so we don't have to store these if we\n\t\t// want to reverse the animation\n\t\tthis.smallAnimProps = {\n\t\t\t'height': myStyle['height']\n\t\t};\n\t\tthis.$.titleWrapper.smallAnimProps = {\n\t\t\t'padding-left': titleWrapperStyle['padding-left'],\n\t\t\t'top': titleWrapperStyle['top']\n\t\t};\n\t\tthis.$.title.smallAnimProps = {};\n\t\tthis.$.titleAbove.smallAnimProps = {\n\t\t\t'height': titleAboveStyle['height'],\n\t\t\t'opacity': titleAboveStyle['opacity']\n\t\t};\n\t\tthis.$.titleBelow.smallAnimProps = {\n\t\t\t'top': titleBelowStyle['top']\n\t\t};\n\t\tthis.$.subTitleBelow.smallAnimProps = {\n\t\t\t'top': subTitleBelowStyle['top']\n\t\t};\n\n\t\tthis.$.animator.newAnimation({\n\t\t\tname: 'collapseToSmall',\n\t\t\tduration: 200,\n\t\t\ttimingFunction: 'linear',\n\t\t\tkeyframes: {\n\t\t\t\t0: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': 'current',\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current',\n\t\t\t\t\t\t'opacity': 'current',\n\t\t\t\t\t\t'margin-top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t70: [],\n\t\t\t\t100: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': dom.unit(ri.scale(260), 'rem')\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 0,\n\t\t\t\t\t\t'opacity': 0,\n\t\t\t\t\t\t'margin-top': 0\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}]\n\n\t\t\t}\n\t\t});\n\t\tthis.$.animator.play('collapseToSmall');\n\t\tthis.collapsed = true;\n\t},\n\n\t/**\n\t* Expands the drawer, showing its contents.\n\t*\n\t* @public\n\t*/\n\texpandToLarge: function () {\n\t\tif (!this.collapsed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.animator.newAnimation({\n\t\t\tname: 'expandToLarge',\n\t\t\tduration: 200,\n\t\t\ttimingFunction: 'linear',\n\t\t\tkeyframes: {\n\t\t\t\t0: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': 'current',\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current',\n\t\t\t\t\t\t'opacity': 'current',\n\t\t\t\t\t\t'margin-top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t30: [],\n\t\t\t\t100: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': this.smallAnimProps.height\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': this.$.titleWrapper.smallAnimProps['padding-left'],\n\t\t\t\t\t\t'top': this.$.titleWrapper.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': this.$.titleAbove.smallAnimProps['height'],\n\t\t\t\t\t\t'opacity': this.$.titleAbove.smallAnimProps['opacity'],\n\t\t\t\t\t\t'margin-top': this.$.titleAbove.smallAnimProps['margin-top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': this.$.titleBelow.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': this.$.subTitleBelow.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t\tthis.$.animator.play('expandToLarge');\n\t\tthis.collapsed = false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttypeChanged: function () {\n\t\tthis.addRemoveClass('moon-large-header', this.get('type') == 'large');\n\t\tthis.addRemoveClass('moon-medium-header', this.get('type') == 'medium');\n\t\tthis.addRemoveClass('moon-small-header', this.get('type') == 'small');\n\t\tthis.contentChanged();\n\t\tif (this.generated) this.adjustTitleWidth();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tvalueChanged: function () {\n\t\tthis.$.titleInput.detectTextDirectionality((this.$.titleInput.value || this.$.titleInput.value === 0 || this.$.titleInput.value === '0') ? this.$.titleInput.value : this.$.titleInput.get('placeholder'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustTitleWidth: function() {\n\t\tvar type = this.get('type'),\n\t\t\t// Measure client area's width + 40px of spacing\n\t\t\tclient = this.$.client ? this.$.client.hasNode() : null,\n\t\t\tclientWidth = client ? client.offsetWidth : null,\n\t\t\tclientStyle = client ? (client.currentStyle || dom.getComputedStyle(client)) : null,\t\t// Originally by YuC @ http://stackoverflow.com/questions/349257/detecting-true-border-padding-and-margin-from-javascript\n\t\t\tclientMargin = client ? (parseInt(clientStyle.marginLeft, 10) + parseInt(clientStyle.marginRight, 10)) : null,\n\t\t\tclientSpaceSmall = dom.unit(clientWidth + clientMargin + ri.scale(36), 'rem'),\n\t\t\tclientSpace = dom.unit(clientWidth + ri.scale(36), 'rem'),\n\t\t\trtl = this.rtl;\n\n\t\tif (client) {\n\t\t\t// Set the margin on the correct side for the correct control, otherwise set it to nothing\n\t\t\tthis.$.title.applyStyle('margin-right', (type == 'small' && !rtl && clientWidth) ? clientSpaceSmall : null);\n\t\t\tthis.$.title.applyStyle('margin-left', (type == 'small' && rtl && clientWidth) ? clientSpaceSmall : null);\n\n\t\t\tthis.$.titleBelow.applyStyle('margin-right', (type == 'medium' && !rtl && clientWidth) ? clientSpace : null);\n\t\t\tthis.$.titleBelow.applyStyle('margin-left', (type == 'medium' && rtl && clientWidth) ? clientSpace : null);\n\n\t\t\tthis.$.subTitleBelow.applyStyle('margin-right', (type == 'medium' && !rtl && clientWidth) ? clientSpace : null);\n\t\t\tthis.$.subTitleBelow.applyStyle('margin-left', (type == 'medium' && rtl && clientWidth) ? clientSpace : null);\n\t\t}\n\t},\n\n\t/**\n\t* Note that this method will be deprecated soon. For now, it is being left in for\n\t* backward compatibility.\n\t*\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tthis.addRemoveClass('moon-medium-header', this.get('small'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tvar title = this.get('uppercase')\n\t\t\t\t\t? util.toUpperCase(this.get('title') || this.get('content'))\n\t\t\t\t\t: (this.get('title') || this.get('content')),\n\t\t\tsubtitle = this.get('titleBelow');\n\t\tif ((this.get('type') == 'small') && subtitle) {\n\t\t\tthis.$.title.set('allowHtml', true);\n\t\t\tif (!this.allowHtml) {\n\t\t\t\ttitle = dom.escape(title);\n\t\t\t\tsubtitle = dom.escape(subtitle);\n\t\t\t}\n\t\t\tthis.$.title.set('content', Control.prototype.rtl && !util.isRtl(subtitle + title) ?\n\t\t\t\t'<span class=\"moon-sub-header-text moon-header-sub-title\">' + subtitle + '</span>' + '   ' + title :\n\t\t\t\ttitle + '   ' + '<span class=\"moon-sub-header-text moon-header-sub-title\">' + subtitle + '</span>');\n\t\t} else {\n\t\t\tthis.$.title.set('allowHtml', this.get('allowHtml') );\n\t\t\tthis.$.title.set('content', title);\n\t\t}\n\t\tthis.placeholderChanged();\n\t},\n\n\t/**\n\t* For backward-compatibility with original API.\n\t*\n\t* @private\n\t*/\n\ttitleChanged: function () {\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tplaceholderChanged: function () {\n\t\t// For backward-compatibility with original API\n\t\tthis.$.titleInput.set('placeholder', this.getTitleUpperCase()\n\t\t\t\t? util.toUpperCase(this.placeholder || this.title || this.content)\n\t\t\t\t: (this.placeholder || this.title || this.content) );\n\t\tthis.valueChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// titleUpperCase is fully deprecated and removed.\n\t\tif (this.titleUpperCase != this.uppercase) this.titleUpperCase = this.uppercase;\n\t\tthis.titleChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.titleUpperCase) this.uppercase = this.titleUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleAboveChanged: function () {\n\t\tthis.$.titleAbove.addRemoveClass('no-border', this.titleAbove === '');\n\t\tthis.$.titleAbove.set('content', this.titleAbove);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleBelowChanged: function () {\n\t\tthis.$.titleBelow.set('content', this.titleBelow || '');\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsubTitleBelowChanged: function () {\n\t\tthis.$.subTitleBelow.set('content', this.subTitleBelow || '');\n\t},\n\n\t/**\n\t* Placeholder\n\t*\n\t* @private\n\t*/\n\t// animationComplete: function (inSender, inEvent) {\n\t\t// Do something?\n\t// },\n\n\t/**\n\t* @private\n\t*/\n\tinputModeChanged: function () {\n\t\tthis.$.title.canGenerate = !this.inputMode;\n\t\tthis.$.title.setShowing(!this.inputMode);\n\t\tthis.$.inputDecorator.canGenerate = this.inputMode;\n\t\tthis.$.inputDecorator.setShowing(this.inputMode);\n\n\t\tif (!this.inputMode) {\n\t\t\tif (!this.$.title.hasNode()) {\n\t\t\t\tthis.$.title.render();\n\t\t\t}\n\t\t\t// Reset marquees when coming back to static text\n\t\t\tif (this.generated) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t\tthis.startMarquee();\n\t\t\t}\n\t\t}\n\t\tif (this.inputMode && !this.$.inputDecorator.hasNode()) {\n\t\t\tthis.$.inputDecorator.render();\n\t\t}\n\t\tthis.addRemoveClass('moon-input-header', this.inputMode);\n\t},\n\n\t/**\n\t* Handles `input` event, firing custom\n\t* [onInputHeaderInput]{@link module:moonstone/Header~Header#onInputHeaderInput} event.\n\t*\n\t* @fires module:moonstone/Header~Header#onInputHeaderInput\n\t* @private\n\t*/\n\thandleInput: function (inSender, inEvent) {\n\t\tthis.doInputHeaderInput({originalEvent: util.clone(inEvent, true)});\n\t},\n\n\t/**\n\t* Handles `change` event, firing custom\n\t* [onInputHeaderChange]{@link module:moonstone/Header~Header#onInputHeaderChange} event.\n\t*\n\t* @fires module:moonstone/Header~Header#onInputHeaderChange\n\t* @private\n\t*/\n\thandleChange: function (inSender, inEvent) {\n\t\tthis.doInputHeaderChange({originalEvent: util.clone(inEvent, true)});\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/TooltipDecorator~TooltipDecorator} kind.\n* @module moonstone/TooltipDecorator\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tButton = require('../Button');\n\n/**\n* Bubble this event from a contained [control]{@link module:enyo/Control~Control} to mute tooltips. No data\n* needs be passed with this event.\n*\n* @event module:moonstone/TooltipDecorator~TooltipDecorator#onRequestMuteTooltip\n* @type {Object}\n* @public\n*/\n\n/**\n* Bubble this event from a contained [control]{@link module:enyo/Control~Control} to unmute tooltips. No data\n* needs be passed with this event.\n*\n* @event module:moonstone/TooltipDecorator~TooltipDecorator#onRequestUnmuteTooltip\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/TooltipDecorator~TooltipDecorator} is a control that\n* activates a {@link module:moonstone/Tooltip~Tooltip}. It surrounds a control\n* such as a button and displays the tooltip when the control generates an\n* `onenter` event:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('moonstone/Button'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: Button, content: 'Tooltip'},\n* \t\t{kind: Tooltip, content: 'I am a tooltip for a button.'}\n* \t]}\n* ```\n*\n* Here is an example with a {@link module:moonstone/Input~Input} control and a decorator around the input:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: InputDecorator, components: [\n* \t\t\t{kind: Input, placeholder: 'Just an input...'}\n* \t\t]},\n* \t\t{kind: Tooltip, content: 'I am just a tooltip for an input.'}\n* \t]}\n* ```\n*\n* Automatic hiding and showing of tooltips may be disabled by calling\n* [mute()]{@link module:moonstone/TooltipDecorator~TooltipDecorator#mute} or by bubbling the\n* [onRequestMuteTooltip]{@link module:moonstone/TooltipDecorator~TooltipDecorator#onRequestMuteTooltip} event;\n* it may be re-enabled by calling [unmute()]{@link module:moonstone/TooltipDecorator~TooltipDecorator#unmute}\n* or by bubbling the\n* [onRequestUnmuteTooltip]{@link module:moonstone/TooltipDecorator~TooltipDecorator#onRequestUnmuteTooltip} event.\n*\n* @class TooltipDecorator\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/TooltipDecorator~TooltipDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TooltipDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Button,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-tooltip-decorator',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonenter: 'requestShowTooltip',\n\t\tonleave: 'requestHideTooltip',\n\t\tonSpotlightFocused: 'requestShowTooltip',\n\t\tonSpotlightBlur: 'requestHideTooltip',\n\t\tonRequestMuteTooltip: 'mute',\n\t\tonRequestUnmuteTooltip: 'unmute'\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/TooltipDecorator~TooltipDecorator.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* Boolean indicating whether tooltips are automatically shown when the activator is\n\t\t* hovered over.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShow: true\n\t},\n\n\t/**\n\t* Disables automatic tooltip showing and hiding.\n\t*\n\t* @public\n\t*/\n\tmute: function () {\n\t\tthis.setAutoShow(false);\n\t},\n\n\t/**\n\t* Re-enables automatic tooltip showing and hiding after being muted.\n\t*\n\t* @public\n\t*/\n\tunmute: function () {\n\t\tthis.setAutoShow(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowChanged: function () {\n\t\tif (!this.autoShow) {\n\t\t\tthis.requestHideTooltip();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function () {\n\t\tthis.requestHideTooltip();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestShowTooltip: function (inSender, inEvent) {\n\t\tif (this.autoShow && !Spotlight.isFrozen()) {\n\t\t\tif (inEvent.type == 'onSpotlightFocused' || Spotlight.getPointerMode()) {\n\t\t\t\tthis.waterfallDown('onRequestShowTooltip', {originator: inSender}, this);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestHideTooltip: function () {\n\t\tthis.waterfallDown('onRequestHideTooltip');\n\t},\n\n\t/**\n\t* Cancel any pending tooltip showing if the decorator or one of its ancestors is hidden\n\t*\n\t* @private\n\t*/\n\tshowingChangedHandler: function (sender, event) {\n\t\tControl.prototype.showingChangedHandler.apply(this, arguments);\n\t\tif (!event.showing) {\n\t\t\tthis.requestHideTooltip();\n\t\t}\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/Panel~Panel} kind.\n* @module moonstone/Panel\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tdom = require('enyo/dom'),\n\tControl = require('enyo/Control');\n\nvar\n\tFittableLayout = require('layout/FittableLayout'),\n\tFittableRows = require('layout/FittableRows'),\n\tFittableRowsLayout = FittableLayout.Rows;\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tHeader = require('moonstone/Header');\n\n/**\n* Fires when this [panel]{@link module:moonstone/Panel~Panel} has completed its pre-arrangement transition.\n* No additional data is passed with this event.\n*\n* @event module:moonstone/Panel~Panel#onPreTransitionComplete\n* @type {Object}\n* @public\n*/\n\n/**\n* Fires when this [panel]{@link module:moonstone/Panel~Panel} has completed its post-arrangement transition.\n* No additional data is passed with this event.\n*\n* @event module:moonstone/Panel~Panel#onPostTransitionComplete\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/Panel~Panel} is the default kind for controls\n* created inside a {@link module:moonstone/Panels~Panels} container. A\n* Panels container will typically contain several instances of Panel.\n*\n* The built-in features include an embedded {@link module:moonstone/Header~Header}\n* and a {@link module:layout/FittableRows~FittableRows} layout for the main body\n* content.\n*\n* @class Panel\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\n\nmodule.exports = kind(\n\t/** @lends module:moonstone/Panel~Panel.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Panel',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panel~Panel.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* Facade for the [title]{@link module:moonstone/Header~Header#title} property of the embedded\n\t\t* {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitle: '',\n\n\t\t/**\n\t\t* Facade for the [titleAbove]{@link module:moonstone/Header~Header#titleAbove} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleAbove: '',\n\n\t\t/**\n\t\t* Facade for the [titleBelow]{@link module:moonstone/Header~Header#titleBelow} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleBelow: '',\n\n\t\t/**\n\t\t* Facade for the [subTitleBelow]{@link module:moonstone/Header~Header#subTitleBelow} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsubTitleBelow: '',\n\n\t\t/**\n\t\t* When `true`, the header's [titleAbove]{@link module:moonstone/Header~Header#titleAbove} property\n\t\t* is automatically populated with the panel index.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoNumber: true,\n\n\t\t/**\n\t\t* Facade for the [type]{@link module:moonstone/Header~Header#type} property of the embedded\n\t\t* {@link module:moonstone/Header~Header}.\n\t\t* Valid values are: `'large'`, `'small'`, and `'medium'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'large'\n\t\t* @public\n\t\t*/\n\t\theaderType: 'large',\n\n\t\t/**\n\t\t* Facade for the [allowHtml]{@link module:enyo/Control~Control#allowHtml} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tallowHtmlHeader: false,\n\n\t\t/**\n\t\t* Facade for the [backgroundSrc]{@link module:moonstone/Header~Header#backgroundSrc} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {(String|String[]|module:enyo/resolution#selectSrc~src|module:enyo/resolution#selectSrc~src[])}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\theaderBackgroundSrc: null,\n\n\t\t/**\n\t\t* Facade for the [backgroundPosition]{@link module:moonstone/Header~Header#backgroundPosition}\n\t\t* property of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {(String|String[])}\n\t\t* @default 'top right'\n\t\t* @public\n\t\t*/\n\t\theaderBackgroundPosition: 'top right',\n\n\t\t/**\n\t\t* An object containing additional settings for the {@link module:moonstone/Header~Header}. Any\n\t\t* values specified here will be mixed into the header definition.\n\t\t*\n\t\t* @type {Object}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\theaderOptions: null,\n\n\t\t/**\n\t\t* Facade for the [titleUpperCase]{@link module:moonstone/Header~Header#titleUpperCase} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\ttitleUpperCase: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightFocus: 'disableSpotlightDummy'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-panel',\n\n\t/**\n\t* @private\n\t*/\n\tlayoutKind: FittableRowsLayout,\n\n\t/**\n\t* @private\n\t*/\n\tuseFlex: true,\n\n\t/**\n\t* @private\n\t*/\n\tpanelTools : [\n\t\t/* header will be created here programmatically in createTools after mixing-in headerOptions */\n\t\t{name: 'panelBody', kind: FittableRows, fit: true, classes: 'moon-panel-body'},\n\t\t{name: 'spotlightDummy', kind: Control, spotlight: false, style: 'width:0; height:0;'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\theaderConfig : {name: 'header', kind: Header, isChrome: true},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'title', to: '$.header.title'},\n\t\t{from: 'title', to: '$.breadcrumbText.content'},\n\t\t{from: 'titleAbove', to: '$.header.titleAbove'},\n\t\t{from: 'titleAbove', to: '$.breadcrumbTitleAbove.content'},\n\t\t{from: 'titleBelow', to: '$.header.titleBelow'},\n\t\t{from: 'subTitleBelow', to: '$.header.subTitleBelow'},\n\t\t{from: 'allowHtmlHeader', to: '$.header.allowHtml'},\n\t\t{from: 'allowHtmlHeader', to: '$.breadcrumbText.allowHtml'},\n\t\t{from: 'headerBackgroundSrc', to: '$.header.backgroundSrc'},\n\t\t{from: 'headerBackgroundPosition', to: '$.header.backgroundPosition'},\n\t\t{from: 'titleUpperCase', to: '$.header.titleUpperCase'},\n\t\t{from: 'headerType', to: '$.header.type', oneWay: false}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\theaderComponents: [],\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreen: false,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonPanelOnscreen: '',\n\t\tonPanelOffscreen: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\t// FIXME: Need to determine whether headerComponents was passed on the instance or kind to get the ownership correct\n\t\tif (this.headerComponents) {\n\t\t\tvar owner = this.hasOwnProperty('headerComponents') ? this.getInstanceOwner() : this;\n\t\t\tthis.$.header.createComponents(this.headerComponents, {owner: owner});\n\t\t}\n\t\tthis.autoNumberChanged();\n\t\tthis.headerTypeChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.createTools();\n\t\tthis.controlParentName = 'panelBody';\n\t\tthis.discoverControlParent();\n\t\tControl.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateTools: function () {\n\t\t// Create everything but the header\n\t\tthis.createChrome(this.panelTools);\n\t\t// Special-handling for header, which can have its options modified by the instance\n\t\tvar hc = util.clone(this.headerConfig || {});\n\t\thc.addBefore = this.$.panelBody;\n\t\tutil.mixin(hc, this.headerOptions || this.headerOption);\n\t\tthis.createComponent(hc, {owner:this});\n\t},\n\n\t/**\n\t* On reflow, updates `this.$.contentWrapper` bounds.\n\t* @private\n\t*/\n\treflow: function () {\n\t\tControl.prototype.reflow.apply(this, arguments);\n\t\tthis.getInitAnimationValues();\n\t\tthis.updatePanelBodySize();\n\t},\n\n\t/**\n\t* Updates `this.$.contentWrapper` to have the height/width of `this`.\n\t* @private\n\t*/\n\tupdatePanelBodySize: function () {\n\t\tvar node = this.hasNode();\n\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.panelBody.applyStyle('height', this.initialHeight + 'px');\n\t},\n\n\t/**\n\t* Forcibly applies layout kind changes to `this.$.panelBody`.\n\t* @private\n\t*/\n\tlayoutKindChanged: function () {\n\t\tthis.$.panelBody.setLayoutKind(this.layoutKind);\n\t},\n\n\t/**\n\t* If spottable controls are added to the Panel instance after initial creation, we need to\n\t* disable the spotlightDummy. Unfortunately, there's no other reliable way to detect when\n\t* controls are added *anywhere* within a control's component tree so we have to watch for\n\t* onSpotlightFocus events to disable the spotlightDummy.\n\t*\n\t* @private\n\t*/\n\tdisableSpotlightDummy: function (sender, event) {\n\t\tif (this.$.spotlightDummy.spotlight && event.originator !== this && event.originator !== this.$.spotlightDummy) {\n\t\t\tthis.$.spotlightDummy.spotlight = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSpotability: function () {\n\t\tif (this.isOffscreen) {\n\t\t\tthis.spotlightDisabled = true;\n\t\t} else {\n\t\t\tthis.spotlightDisabled = false;\n\t\t\tthis.$.spotlightDummy.spotlight = false;\n\t\t\tif (!Spotlight.isSpottable(this)) {\n\t\t\t\t// make dummy div spottable if there is no spottable child\n\t\t\t\tthis.$.spotlightDummy.spotlight = true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\theaderTypeChanged: function () {\n\t\tthis.$.header.setType(this.headerType);\n\t\tthis.$.header.adjustTitleWidth();\n\t\tif (this.generated) {\n\t\t\tthis.resize();\n\t\t}\n\t},\n\n\t/**\n\t* Updates [titleAbove]{@link module:moonstone/Panel~Panel#titleAbove} when\n\t* [autoNumber]{@link module:moonstone/Panel~Panel#autoNumber} changes.\n\t* @private\n\t*/\n\tautoNumberChanged: function () {\n\t\tif (this.getAutoNumber() === true && this.container) {\n\t\t\t// This gets the index regardless of whether the panel is client or chome\n\t\t\tvar n = this.parent.indexOfChild(this) + 1;\n\t\t\tn = ((n < 10) ? '0' : '') + n;\n\t\t\tthis.setTitleAbove(n);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tenableMarquees: function () {\n\t\tthis.$.header.enableMarquee();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisableMarquees: function () {\n\t\tthis.$.header.disableMarquee();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartMarqueeAsNeeded: function (info) {\n\t\tvar onscreen = !info.isOffscreen;\n\t\tif (onscreen) {\n\t\t\tthis.$.header.enableMarquee();\n\t\t\tthis.$.header.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetHeader: function () {\n\t\treturn this.$.header;\n\t},\n\n\t/**\n\t* Called directly by {@link module:moonstone/Panels~Panels}.\n\t* @private\n\t*/\n\tinitPanel: function (info) {\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t\tthis.disableMarquees();\n\t\tthis.startMarqueeAsNeeded(info);\n\t},\n\n\t/**\n\t* Called directly by {@link module:moonstone/Panels~Panels}.\n\t* @private\n\t*/\n\tupdatePanel: function (info) {\n\t\tif (!info.animate) {\n\t\t\tthis.disableMarquees();\n\t\t}\n\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t\tthis.startMarqueeAsNeeded(info);\n\t},\n\n\t/**\n\t* Called directly on the panel by {@link module:moonstone/Panels~Panels} when the panel has completed a\n\t* transition. You may override this function in a panel subkind to perform\n\t* post-transition work (e.g., loading data for the panel).\n\t*\n\t* @param {Object} info - Information from the [Panels]{@link module:moonstone/Panels~Panels} component.\n\t* Additional information may be supplied by the arranger, such as breadcrumb and\n\t* offscreen status.\n\t* @param {Number} info.from - The index the parent Panels was moving from for this transition.\n\t* @param {Number} info.to - The index the parent Panels was moving to for this transition.\n\t* @param {Number} info.index - The current index of this [panel]{@link module:moonstone/Panel~Panel}.\n\t* @param {Boolean} info.animate - Whether the parent Panels is set to animate.\n\t* @public\n\t*/\n\ttransitionFinished: function (info) {\n\t\tthis.updatePanel(info);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreenChanged: function () {\n\t\t// Tell the children we're on or off screen\n\t\tif (this.isOffscreen) {\n\t\t\tthis.waterfallDown('onPanelOffscreen');\n\t\t} else {\n\t\t\tthis.waterfallDown('onPanelOnscreen');\n\t\t}\n\t},\n\n\t/**\n\t* Was protected\n\t* @private\n\t*/\n\tgetInitAnimationValues: function () {\n\t\tvar panelNode = this.hasNode(), headerNode = this.$.header.hasNode(), bodyNode = this.$.panelBody.hasNode(),\n\t\t\tpanelPaddingT = parseInt(dom.getComputedStyleValue(panelNode, 'padding-top'), 10),\n\t\t\tpanelPaddingB = parseInt(dom.getComputedStyleValue(panelNode, 'padding-bottom'), 10),\n\t\t\tbodyPaddingT = parseInt(dom.getComputedStyleValue(bodyNode, 'padding-top'), 10),\n\t\t\tpanelHeight = panelNode.getBoundingClientRect().height,\n\t\t\theaderHeight = headerNode.getBoundingClientRect().height;\n\t\tthis.initialHeight = panelHeight - headerHeight - (panelPaddingT + panelPaddingB + bodyPaddingT);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityRole: 'region',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['title', 'accessibilityLabel', 'accessibilityHint'], method: function () {\n\t\t\tvar content = this.title,\n\t\t\t\tprefix = this.accessibilityLabel || content || null,\n\t\t\t\tlabel = this.accessibilityHint && prefix && (prefix + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tprefix ||\n\t\t\t\t\t\tnull;\n\n\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off'\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ApplicationCloseButton~ApplicationCloseButton} kind.\n* @module moonstone/ApplicationCloseButton\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution');\n\nvar\n\t$L = require('../i18n'),\n\tTooltipDecorator = require('moonstone/TooltipDecorator'),\n\tTooltip = require('moonstone/Tooltip'),\n\tIconButton = require('moonstone/IconButton');\n\nvar buttonDescription = $L('Exit app');\n\n/**\n* {@link module:moonstone/ApplicationCloseButton~ApplicationCloseButton}\n* may be added to {@link module:moonstone/Panels~Panels}, or other\n* full-screen controls. It includes basic positioning styles that may require\n* adjustment for your particular usage. When activated, an `onApplicationClose`\n* event is emitted. On its own, an ApplicationCloseButton has no function; you\n* must provide your own event handler to close the application. The recommended\n* action to take in response to the event is `window.close()`, but you may also\n* want to also perform operations such as saving user work or closing database\n* connections.\n*\n* @class ApplicationCloseButton\n* @extends module:moonstone/TooltipDecorator~TooltipDecorator\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ApplicationCloseButton~ApplicationCloseButton.prototype */ {\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ApplicationCloseButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: TooltipDecorator,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-application-close-button',\n\n\t/**\n\t* Boolean indicating whether the tooltip is shown soon after the button is focused.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tautoShow: false,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonApplicationClose: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'button', kind: IconButton, icon: 'closex', small: true, backgroundOpacity: 'transparent', ontap: 'handleButtonTap'},\n\t\t{kind: Tooltip, content: buttonDescription, floating: true, position: 'below'}\n\t],\n\n\thandlers: {\n\t\tonCustomizeCloseButton: 'handleCustomizeCloseButton'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcustomizeCloseButton: function (properties) {\n\t\tvar prop, style;\n\n\t\tif (properties && typeof properties == 'object') {\n\t\t\tfor (prop in properties) {\n\t\t\t\tif (prop == 'styles' && typeof properties[prop] == 'object') {\n\t\t\t\t\tfor (style in properties[prop]) {\n\t\t\t\t\t\tthis.$.button.applyStyle(style, properties[prop][style]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$.button.set(prop, properties[prop]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* This takes action when the CustomizeCloseButton event is received. It accepts several event\n\t* properties, and in their absence resets each to its original value.\n\t*\n\t* Possible `ev` object members:\n\t*   x - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*       This value is automatically inverted in RtL mode.\n\t*   y - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*   properties {Object} An object containing key/value pairs to be `set` on the close button.\n\t*   For example, this can be used to set the `showing` property of the close button. If present\n\t*   and an object, the `styles` member will be iterated through and each style will be applied\n\t*   individually and those styles with a `null` value will be removed.\n\t*\n\t* Ex:\n\t*    this.doCustomizeCloseButton({parameters: {showing: false});\n\t*\n\t* @private\n\t*/\n\thandleCustomizeCloseButton: function (sender, ev) {\n\t\tvar shiftX = ev.x,\n\t\t\tshiftY = typeof ev.y == 'number' ? dom.unit(ri.scale(ev.y), 'rem') : ev.y;\n\n\t\tswitch (typeof shiftX) {\n\t\t\tcase 'number':\n\t\t\t\tshiftX = dom.unit(ri.scale( this.rtl ? shiftX * -1 : shiftX ), 'rem');\n\t\t\t\tbreak;\n\t\t\tcase 'string':\n\t\t\t\tif (this.rtl) {\n\t\t\t\t\tif (shiftX.indexOf('-') === 0) {\n\t\t\t\t\t\tshiftX = shiftX.substring(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshiftX = '-' + shiftX;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t// Only apply changes that are present. (Undef means don't change me.) dom.transform preserves successive assignments.\n\t\tif (typeof shiftX != 'undefined') dom.transform(this, {translateX: shiftX});\n\t\tif (typeof shiftY != 'undefined') dom.transform(this, {translateY: shiftY});\n\n\t\tthis.customizeCloseButton(ev.properties);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tTooltipDecorator.prototype.create.apply(this, arguments);\n\t\tthis.autoShowChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowChanged: function () {\n\t\tTooltipDecorator.prototype.autoShowChanged.apply(this, arguments);\n\t\t// Only add an accessibilityLabel to the button if we aren't displaying a tooltip, so the\n\t\t// accessibility system doesn't read the label twice, once for the button, and again for the tooltip.\n\t\tthis.$.button.set('accessibilityLabel', this.autoShow ? null : buttonDescription);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleButtonTap: function (sender, ev) {\n\t\tthis.doApplicationClose();\n\t}\n});\n","/**\n* Contains the declaration for {@link module:moonstone/Panels~Panels} and supporting kinds.\n* @module moonstone/Panels\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tdispatcher = require('enyo/dispatcher'),\n\tdom = require('enyo/dom'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tEnyoHistory = require('enyo/History'),\n\tSignals = require('enyo/Signals'),\n\tri = require('enyo/resolution'),\n\tViewPreloadSupport = require('enyo/ViewPreloadSupport');\n\nvar\n\tPanels = require('layout/Panels');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\t$L = require('../i18n');\n\nvar\n\tApplicationCloseButton = require('../ApplicationCloseButton'),\n\tHistorySupport = require('../HistorySupport'),\n\tMoonAnimator = require('../MoonAnimator'),\n\tMoonArranger = require('../MoonArranger'),\n\tMoonOptions = require('../options'),\n\tPanel = require('../Panel'),\n\tStyleAnimator = require('../StyleAnimator');\n\n/**\n* {@link module:moonstone/Panels~PanelsHandle} is a helper kind for\n* {@link module:moonstone/Panels~Panels}. It implements a spottable handle\n* that the user may interact with to hide and show the `moonstone/Panels`\n* control.\n*\n* @class PanelsHandle\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar PanelsHandle = kind(\n\t/** @lends module:moonstone/Panels~PanelsHandle.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.PanelsHandle',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [HistorySupport],\n\n\t/*\n\t* @private\n\t*/\n\tclasses: 'moon-panels-handle',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap: 'handleTap'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleTap: function () {\n\t\tif (!EnyoHistory.isProcessing()) {\n\t\t\tthis.pushBackHistory();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function () {\n\t\tthis.bubble('ontap');\n\t\treturn true;\n\t},\n\n\t/**\n\t* We override getAbsoluteShowing so that the handle's spottability is not dependent on the\n\t* showing state of its parent, the {@link module:moonstone/Panels~Panels} control.\n\t*\n\t* @private\n\t*/\n\tgetAbsoluteShowing: function (ignoreBounds) {\n\t\tvar bounds = !ignoreBounds ? this.getBounds() : null;\n\n\t\tif (!this.generated || this.destroyed || !this.showing || (bounds &&\n\t\t\tbounds.height === 0 && bounds.width === 0)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n});\n\n/**\n* {@link module:moonstone/Panels~Breadcrumb} is a helper kind for\n* {@link module:moonstone/Panels~Panels}. It implements a breadcrumb that\n* displays the panel index.\n*\n* @class Breadcrumb\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar Breadcrumb = kind(\n\t/** @lends module:moonstone/Panels~Breadcrumb.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Breadcrumb',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panels~Breadcrumb.prototype\n\t*/\n\tpublished: {\n\t\t/*\n\t\t* @private\n\t\t*/\n\t\tindex: 0\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreen: false,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLabel: $L('go to previous'),\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap: 'tapHandler',\n\t\tonSpotlightRight: 'rightHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-panels-breadcrumb',\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'number', kind: Control, classes: 'moon-panels-breadcrumb-header'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'index', to: '$.number.content', transform: 'formatNumber'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tformatNumber: function (n) {\n\t\tvar i=n+1;\n\t\treturn '< ' + ((i < 10) ? '0' : '') + i;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttapHandler: function (sender, event) {\n\t\t// decorate\n\t\tevent.breadcrumbTap = true;\n\t\tevent.index = this.index;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trightHandler: function(sender, event) {\n\t\tvar panels = this.owner;\n\t\tif (this.index+1 ==\tpanels.index) {\n\t\t\tSpotlight.spot(panels.getActive());\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSpotability: function () {\n\t\tthis.spotlightDisabled = this.isOffscreen;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateBreadcrumb: function (info) {\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t}\n});\n\n\n/**\n* {@link module:moonstone/Panels~Panels} extends {@link module:layout/Panels~Panels},\n* adding support for 5-way focus (Spotlight) and pre-configured Moonstone panels\n* design patterns. By default, controls added to a Panels container are instances\n* of {@link module:moonstone/Panel~Panel}.\n*\n* `moonstone/Panels` introduces the concept of patterns for panel display.\n* Set [pattern]{@link module:moonstone/Panels~Panels#pattern} to `'activity'`\n* or `'alwaysViewing'` to use one of two patterns designed for apps on Smart TV systems.\n*\n* @class Panels\n* @extends module:layout/Panels~Panels\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Panels~Panels.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Panels',\n\n\t/**\n\t* @private\n\t*/\n\tkind : Panels,\n\n\t/**\n\t* @private\n\t*/\n\tmixins : [HistorySupport, ViewPreloadSupport],\n\n\t/**\n\t* @private\n\t*/\n\tclasses : 'moon-panels enyo-fit',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDecorate : false,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panels~Panels.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* A convenience property for configuring {@link module:moonstone/Panels~Panels} according to a\n\t\t* particular design pattern.  Valid values are `'none'` (default), `'activity'`,\n\t\t* and `'alwaysviewing'`. Note that this property may only be set at creation\n\t\t* time, and should not be changed at runtime.\n\t\t*\n\t\t* The `'alwaysviewing'` pattern uses the {@link module:moonstone/BreadcrumbArranger~BreadcrumbArranger} with\n\t\t* semi-transparent panels (depending on the color theme) over the right half\n\t\t* of the screen, allowing multiple breadcrumbs to accumulate on the left\n\t\t* half of the screen.\n\t\t*\n\t\t* The `'activity'` pattern  uses the `BreadcrumbArranger` with opaque\n\t\t* panels over the full screen and only one breadcrumb showing onscreen.\n\t\t*\n\t\t* The `'none'` pattern should be used when selecting other arrangers, such as\n\t\t* {@link module:layout/CarouselArranger~CarouselArranger} or {@link module:layout/CardArranger~CardArranger}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'none'\n\t\t* @public\n\t\t*/\n\t\tpattern: 'none',\n\n\t\t/**\n\t\t* When [useHandle]{@link module:moonstone/Panels~Panels#useHandle} is used, it is automatically\n\t\t* hidden after this amount of time (in milliseconds).\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 4000\n\t\t* @public\n\t\t*/\n\t\tautoHideTimeout: 4000,\n\n\t\t/**\n\t\t* When `true`, a handle is created to allow the user to control the showing\n\t\t* state of the panels using animation. When `false`, no handle is created and\n\t\t* panels may only be hidden/shown programmatically with no animation.\n\t\t* When `'auto'` (the default), `useHandle` is set to `true` if the\n\t\t* [pattern]{@link module:moonstone/Panels~Panels#pattern} is `'alwaysviewing'` and to `false` if\n\t\t* the `pattern` is `'activity'`. Note that this property may only be set at\n\t\t* creation time, and should not be changed at runtime. This property\n\t\t* only has an effect when using the `'activity'` or `'alwaysviewing'` pattern.\n\t\t*\n\t\t* @type {String|Boolean}\n\t\t* @default 'auto'\n\t\t* @public\n\t\t*/\n\t\tuseHandle: 'auto',\n\n\t\t/**\n\t\t* Dynamically controls whether the handle is showing.\n\t\t* When `true` (the default), the handle is shown and panels may be shown by\n\t\t* activating the handle and hidden by re-activating the handle or by tapping\n\t\t* outside the panel area. When `false`, the handle is hidden and panels may\n\t\t* only be shown or hidden programmatically using the\n\t\t* [showing]{@link module:enyo/Control~Control#showing} property or the\n\t\t* [show()]{@link module:enyo/Control~Control#show}/[hide()]{@link module:enyo/Control~Control#hide} API.\n\t\t* This property only has an effect when [useHandle]{@link module:moonstone/Panels~Panels#useHandle}\n\t\t* is `true` (or `'auto'`, resulting in `true`).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thandleShowing: true,\n\n\t\t/**\n\t\t* When `true`, panels are automatically popped when the user moves back.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tpopOnBack: false,\n\n\t\t/**\n\t\t* When `true`, an ApplicationCloseButton is added to ActivityPanels arranger's Panel Headers.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thasCloseButton: true,\n\n\t\t/**\n\t\t* When `true`, navigating the panel-stack (forward and backward) by 5-way key is disabled.\n\t\t* This feature may be helpful to prevent accidental navigation in \"wizard\" interface\n\t\t* scenarios where the user must take explicit action to advance or regress.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tpreventKeyNavigation: false,\n\n\t\t/**\n\t\t* When `true`, focus can move from panel to breadcrumb when press left key.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @deprecated This property will be removed in the future.\n\t\t* @public\n\t\t*/\n\t\tleftKeyToBreadcrumb: true,\n\n\t\t/**\n\t\t* When `true`, existing views are cached for reuse; otherwise, they are destroyed.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcacheViews: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnarrowFit: false,\n\n\t/**\n\t* @private\n\t*/\n\tfractions: {panel: 1, breadcrumb: 1},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap:\t\t\t\t\t\t'tapped',\n\t\tonSpotlightUp:\t\t\t\t'spotlightUp',\n\t\tonSpotlightDown:\t\t\t'spotlightDown',\n\t\tonSpotlightRight:\t\t\t'spotlightRight',\n\t\tonSpotlightLeft:\t\t\t'spotlightLeft',\n\t\tonSpotlightFocus:\t\t\t'spotlightFocus',\n\t\tonSpotlightContainerLeave:\t'onSpotlightPanelLeave',\n\t\tonSpotlightContainerEnter:\t'onSpotlightPanelEnter',\n\t\tonCustomizeCloseButton:\t\t'handleCustomizeCloseButton'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplicationTools: [\n\t\t{name: 'appClose', kind: ApplicationCloseButton, onSpotlightUp: 'spotlightFromCloseButton', onSpotlightDown: 'spotlightFromCloseButton', onSpotlightRight: 'spotlightFromCloseButton', onSpotlightLeft: 'spotlightFromCloseButton'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\thandleTools: [\n\t\t{name: 'backgroundScrim', kind: Control, classes: 'moon-panels-background-scrim'},\n\t\t{name: 'clientWrapper', kind: Control, classes: 'enyo-fill moon-panels-client-wrapper', components: [\n\t\t\t{name: 'scrim', kind: Control, classes: 'moon-panels-panel-scrim'},\n\t\t\t{name: 'breadcrumbs', kind: Control, classes: 'moon-panels-breadcrumbs'},\n\t\t\t{name: 'panelsViewport', kind: Control, classes: 'moon-panels-viewport', components: [\n\t\t\t\t{name: 'client', kind: Control, tag: null}\n\t\t\t]}\n\t\t]},\n\t\t{name: 'showHideHandle', kind: PanelsHandle, classes: 'hidden', canGenerate: false, ontap: 'handleTap', onSpotlightLeft: 'handleSpotLeft', onSpotlightRight: 'handleSpotRight', onSpotlightFocused: 'handleFocused', onSpotlightBlur: 'handleBlur', tabIndex: -1},\n\t\t{name: 'showHideAnimator', kind: StyleAnimator, onComplete: 'showHideAnimationComplete'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tanimatorTools: [\n\t\t{name: 'animator', kind: MoonAnimator, onStep: 'step', useBezier: true, onEnd: 'animationEnded', configs: {\n\t\t\tpanel: {\n\t\t\t\tforward: { startValue: 0, endValue: 1, delay: 0, duration: 230, bezier: [0.69,0.01,0.97,0.59]},\n\t\t\t\tbackward: { startValue: 0, endValue: 1, delay: 0, duration: 300, bezier: [0.06,0.53,0.38,0.99] }\n\t\t\t},\n\t\t\tbreadcrumb: {\n\t\t\t\tforward: { startValue: 0, endValue: 1, delay: 230, duration: 70, bezier: [0.46,0.28,0.76,0.57] },\n\t\t\t\tbackward: { startValue: 0, endValue: 1, delay: 150, duration: 150, bezier: [0.08,0.51,0.24,0.99] }\n\t\t\t}\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Panel,\n\n\t/**\n\t* When `false`, dragging is disabled.\n\t*\n\t* @private\n\t*/\n\tdraggable: false,\n\n\t/**\n\t* Default to using `BreadcrumbArranger`.\n\t*\n\t* @private\n\t*/\n\tarrangerKind: MoonArranger,\n\n\t/**\n\t* Index of panel set in the middle of transition.\n\t*\n\t* @private\n\t*/\n\tqueuedIndex: null,\n\n\t/**\n\t* Flag for blocking consecutive push/pop/replace panel actions to protect\n\t* create/render/destroy time.\n\t*\n\t* @private\n\t*/\n\tisModifyingPanels: false,\n\n\t/**\n\t* Flag to indicate if the Panels are currently transitioning to a new index.\n\t*\n\t* @private\n\t*/\n\ttransitioning: false,\n\n\t/**\n\t* Width of breadcrumb.\n\t*\n\t* @private\n\t*/\n\tbreadcrumbWidth: 96,\n\n\t/**\n\t* Checks the state of panel transitions.\n\t*\n\t* @return {Boolean} `true` if a transition between panels is currently in progress;\n\t* otherwise, `false`.\n\t* @public\n\t*/\n\tinTransition: function () {\n\t\treturn this.transitioning;\n\t},\n\n\t/**\n\t* Returns list of breadcrumb objects\n\t*\n\t* @return {Array} List of breadcrumbs.\n\t* @public\n\t*/\n\tgetBreadcrumbs: function () {\n\t\treturn this.$.breadcrumbs ? this.$.breadcrumbs.children : [];\n\t},\n\n\t/**\n\t* Returns reference to breadcrumb at the specified index.\n\t*\n\t* @public\n\t*/\n\tgetBreadcrumbForIndex: function (index) {\n\t\tvar breadcrumbs = this.getBreadcrumbs();\n\t\treturn breadcrumbs[(index + breadcrumbs.length) % breadcrumbs.length];\n\t},\n\n\t/**\n\t* Returns maximum number of breadcrumbs that can be fit in the breadcrumb area.\n\t*\n\t* @return {Number} Number of breadcrumbs.\n\t* @public\n\t*/\n\tgetBreadcrumbMax: function () {\n\t\tif (this.pattern == 'activity') return 1;\n\t\t// Always viewing pattern is using half screen to show breadcrumbs\n\t\treturn Math.round(window.innerWidth / 2 / ri.scale(this.breadcrumbWidth));\n\t},\n\n\t/**\n\t* Returns range of breadcrumb index.\n\t*\n\t* @return {Object} Object contains start and end value as a hash. '{start: start, end: end}'\n\t* @public\n\t*/\n\tgetBreadcrumbRange: function () {\n\t\t/** To support fly weight pattern, we use a concept of a window.\n\t\t*\tIf we are seeing maximum 1 breadcrumb on screen (case of activity pattern),\n\t\t*\twe arrange 2 breadcrumbs at a time (current and previous) to show animation.\n\t\t*\tIf we move forward from index 2 to 3 (active is 3), the window can be [2, 3].\n\t\t*/\n\t\tvar end = this.index,\n\t\t\tstart = end - this.getBreadcrumbs().length;\n\n\t\t// If we move backward from index 4 to 3 (active is 3), the window can be [3, 4].\n\t\tif (this.fromIndex > this.toIndex) {\n\t\t\tstart = start+1;\n\t\t\tend = end+1;\n\t\t}\n\t\treturn {start: start, end: end};\n\t},\n\n\t/**\n\t* We just recalculate transition position on pushPanel, because reflow is high cost operation.\n\t* @private\n\t*/\n\trecalcLayout: function () {\n\t\tif (this.layout && this.layout.calcTransitionPositions) {\n\t\t\tthis.arrangements = [];\n\t\t\tthis.layout.calcTransitionPositions();\n\t\t} else {\n\t\t\tthis.reflow();\n\t\t}\n\t},\n\n\t/**\n\t* Determines the id of the given view.\n\t*\n\t* @param {Object} view - The view whose id we will determine.\n\t* @return {String} The id of the given view.\n\t* @public\n\t*/\n\tgetViewId: function (view) {\n\t\treturn view.id;\n\t},\n\n\t/**\n\t* Retrieves an array of either cached panels, if found, or creates a new array of panels\n\t*\n\t* @param {Object[]} info - The declarative {@glossary kind} definitions.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Array} List of found or created controls\n\t* @private\n\t*/\n\tcreatePanels: function (info, moreInfo) {\n\t\tvar newPanels = [],\n\t\t\tnewPanel, idx;\n\n\t\tfor (idx = 0; idx < info.length; idx++) {\n\t\t\tnewPanel = this.createPanel(info[idx], moreInfo);\n\t\t\tnewPanels.push(newPanel);\n\t\t}\n\n\t\treturn newPanels;\n\t},\n\n\t/**\n\t* Retrieves a cached panel or, if not found, creates a new panel\n\t*\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Object} - Found or created control\n\t* @private\n\t*/\n\tcreatePanel: function (info, moreInfo) {\n\t\tvar panel,\n\t\t\tpanelId = this.getViewId(info);\n\n\t\tif (this.cacheViews && panelId) {\n\t\t\tpanel = this.restoreView(panelId);\n\t\t}\n\n\t\tpanel = panel || this.createComponent(info, moreInfo);\n\t\treturn panel;\n\t},\n\n\t/**\n\t* Creates a panel on top of the stack and increments index to select that component.\n\t*\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Object} The instance of the panel that was created on top of the stack.\n\t* @public\n\t*/\n\tpushPanel: function (info, moreInfo) { // added\n\t\tvar startingPanelCount, lastIndex, panel;\n\n\t\tif (this.transitioning || this.isModifyingPanels) return null;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tstartingPanelCount = this.getPanels().length;\n\t\tlastIndex = startingPanelCount - 1;\n\t\tpanel = this.createPanel(info, moreInfo);\n\n\t\tpanel.render();\n\t\tthis.addBreadcrumb(true);\n\t\tthis.recalcLayout();\n\t\tpanel.resize();\n\t\tthis.setIndex(lastIndex+1);\n\n\t\t// when we push the first panel, we need to explicitly let our observers know about this as\n\t\t// there would not be a change in actual index value\n\t\tif (startingPanelCount === 0) {\n\t\t\t// Accessibility - when we push the first panel, we need to set alert role for reading title.\n\t\t\tif (MoonOptions.accessibility) {\n\t\t\t\tthis.setAlertRole();\n\t\t\t}\n\t\t\tthis.notifyObservers('index');\n\t\t}\n\n\t\tthis.isModifyingPanels = false;\n\n\t\treturn panel;\n\t},\n\n\t/**\n\t* Options for the [Panels.pushPanels()]{@link module:moonstone/Panels~Panels.pushPanels} method.\n\t*\n\t* @typedef {Object} module:moonstone/Panels~Panels.pushPanels~options\n\t* @property {Number} targetIndex - The panel index number to immediately switch to. Leaving\n\t*\tthis blank or not setting it will perform the default action, which transitions to the\n\t*\tfirst of the new panels. Setting this to a negative and other 'out of bounds' values\n\t*\twork in conjunction with the `wrap: true` property. Negative values count backward from\n\t*\tthe end, while indices greater than the total Panels' panel length wrap around and start\n\t*\tcounting again from the beginning.\n\t* @property {Boolean} transition - Whether to transition or jump directly to the next panel.\n\t* @public\n\t*/\n\n\t/**\n\t* Creates multiple panels on top of the stack and updates index to select the last one\n\t* created. Supports an optional `options` object as the third parameter.\n\t*\n\t* @param {Object[]} info - The declarative {@glossary kind} definitions.\n\t* @param {Object} commonInfo - Additional properties to be applied (defaults).\n\t* @param {Object} options - Additional options for pushPanels.\n\t* @return {null|Object[]} Array of the panels that were created on top of the stack, or\n\t*\t`null` if panels could not be created.\n\t* @public\n\t*/\n\tpushPanels: function (info, commonInfo, options) { // added\n\t\tvar startingPanelCount, lastIndex, panels, panel;\n\n\t\tif (this.transitioning || this.isModifyingPanels) return null;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tif (!options) options = {};\n\n\t\tstartingPanelCount = this.getPanels().length;\n\t\tlastIndex = startingPanelCount;\n\t\tpanels = this.createPanels(info, commonInfo);\n\n\t\tfor (panel = 0; panel < panels.length; ++panel) {\n\t\t\tpanels[panel].render();\n\t\t}\n\t\tthis.addBreadcrumb(true);\n\t\tthis.recalcLayout();\n\t\tif (options.targetIndex || options.targetIndex === 0) {\n\t\t\tlastIndex = options.targetIndex;\n\t\t}\n\t\tlastIndex = this.clamp(lastIndex);\n\t\tfor (panel = 0; panel < panels.length; ++panel) {\n\t\t\tpanels[panel].resize();\n\t\t}\n\t\t// If transition was explicitly set to false, since null or undefined indicate 'never set' or unset\n\t\tif (options.transition === false) {\n\t\t\tthis.setIndexDirect(lastIndex);\n\t\t} else {\n\t\t\tthis.setIndex(lastIndex);\n\t\t}\n\n\t\t// when we push the first panel, we need to explicitly let our observers know about this as\n\t\t// there would not be a change in actual index value\n\t\tif (startingPanelCount === 0) {\n\t\t\t// Accessibility - when we push the first panel, we need to set alert role for reading title.\n\t\t\tif (MoonOptions.accessibility) {\n\t\t\t\tthis.setAlertRole();\n\t\t\t}\n\t\t\tthis.notifyObservers('index');\n\t\t}\n\n\t\tthis.isModifyingPanels = false;\n\n\t\treturn panels;\n\t},\n\n\t/**\n\t* Destroys panels whose index is greater than or equal to a specified value.\n\t*\n\t* @param {Number} index - Index at which to start removing panels.\n\t* @param {Number} [direction] - The direction in which we are changing indices. A negative\n\t*\tvalue signifies that we are moving backwards, and want to remove panels whose indices are\n\t*\tgreater than the current index. Conversely, a positive value signifies that we are moving\n\t*\tforwards, and panels whose indices are less than the current index should be removed. To\n\t*\tmaintain backwards-compatibility with the existing API, this parameter is optional and, if\n\t*\tnot specified, will default to the popOnBack behavior.\n\t* @public\n\t*/\n\tpopPanels: function (index, direction) {\n\t\tif (this.transitioning || this.isModifyingPanels) return;\n\n\t\tvar panels = this.getPanels(),\n\t\t\ti;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tif (direction > 0) {\n\t\t\tfor (i = 0; i <= index; ++i) {\n\t\t\t\tthis.removePanel(panels[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tindex = index || panels.length - 1;\n\n\t\t\tfor (i = panels.length - 1; i >= index; i--) {\n\t\t\t\tthis.removePanel(panels[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis.removeBreadcrumb();\n\t\tthis.recalcLayout();\n\t\tthis.isModifyingPanels = false;\n\t},\n\n\t/**\n\t* Removes an individual panel.\n\t*\n\t* @param {Object} panel - The panel to remove.\n\t* @param {Boolean} [preserve] - If {@link module:moonstone/Panels~Panels#cacheViews} is `true`,\n\t*\tthis value is used to determine whether or not to preserve the current panel's position in\n\t*\tthe component hierarchy and on the screen, when caching.\n\t* @private\n\t*/\n\tremovePanel: function (panel, preserve) {\n\t\tif (panel) {\n\t\t\tif (this.cacheViews) {\n\t\t\t\tthis.cacheView(panel, preserve);\n\t\t\t} else {\n\t\t\t\tpanel.destroy();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* Destroys specified panel and creates new panel in-place without transition effect.\n\t*\n\t* @param {Number} index - Index of panel to destroy.\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @public\n\t*/\n\treplacePanel: function (index, info, moreInfo) {\n\t\tif (this.transitioning || this.isModifyingPanels) {return;}\n\t\tthis.isModifyingPanels = true;\n\t\tvar oPanel = null;\n\n\t\tif (this.getPanels().length > index) {\n\t\t\tthis.getPanels()[index].destroy();\n\t\t\tif (this.getPanels().length > index) {\n\t\t\t\tmoreInfo = util.mixin({addBefore: this.getPanels()[index]}, moreInfo);\n\t\t\t}\n\t\t}\n\t\toPanel = this.createPanel(info, moreInfo);\n\t\toPanel.render();\n\t\tthis.resize();\n\t\tthis.isModifyingPanels = false;\n\t},\n\n\t/**\n\t* Finds and returns the panel index of the passed-in control. Returns `-1` if\n\t* panel is not found.\n\t*\n\t* @param {Object} oControl - A control to look for.\n\t* @return {Number} Panel index of control, or `-1` if panel is not found.\n\t* @public\n\t*/\n\tgetPanelIndex: function (oControl) {\n\t\tvar oPanel = null;\n\n\t\twhile (oControl && oControl.parent) {\n\t\t\t// Parent of a panel can be a client or a panels.\n\t\t\tif (oControl.parent === this.$.client || oControl.parent === this) {\n\t\t\t\toPanel = oControl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\toControl = oControl.parent;\n\t\t}\n\n\t\tif (oPanel) {\n\t\t\tfor (var n=0; n<this.getPanels().length; n++) {\n\t\t\t\tif (this.getPanels()[n] == oPanel) {\n\t\t\t\t\treturn n;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\t/**\n\t* Returns `true` if the passed-in control is a child panel of this Panels instance.\n\t*\n\t* @param {Object} control - A panel control.\n\t* @return {Boolean} `true` if the specified control is a child panel of this Panels\n\t* instance.\n\t* @public\n\t*/\n\tisPanel: function (control) {\n\t\tfor (var n=0; n<this.getPanels().length; n++) {\n\t\t\tif (this.getPanels()[n] == control) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trefresh: function () {\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.fractions[k] = 1;\n\t\t\t}\n\t\t}\n\t\tPanels.prototype.refresh.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstep: function (sender) {\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.fractions[k] = sender.values[k];\n\t\t\t}\n\t\t}\n\t\tPanels.prototype.step.apply(this, arguments);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstepTransition: function () {\n\t\tif (!this.hasNode()) return;\n\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tthis.arrangement = this.arrangement ? this.arrangement : {};\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.arrangement[k] = this.interpolatesArrangement(this.fractions[k]);\n\t\t\t}\n\t\t\tif (this.layout && this.arrangement.panel && this.arrangement.breadcrumb) {\n\t\t\t\tthis.layout.flowArrangement();\n\t\t\t}\n\t\t} else {\n\t\t\tPanels.prototype.stepTransition.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* Interpolates between arrangements as needed.\n\t*\n\t* @param {Number} [fraction] - A value between 0 to 1.\n\t* @private\n\t*/\n\tinterpolatesArrangement: function (fraction) {\n\t\t// select correct transition points and normalize fraction.\n\t\tvar t$ = this.transitionPoints;\n\t\tvar r = (fraction || 0) * (t$.length-1);\n\t\tvar i = Math.floor(r);\n\t\tr = r - i;\n\t\tvar s = t$[i], f = t$[i+1];\n\t\t// get arrangements and lerp between them\n\t\tvar s0 = this.fetchArrangement(s);\n\t\tvar s1 = this.fetchArrangement(f);\n\t\treturn s0 && s1 ? Panels.lerp(s0, s1, r) : (s0 || s1);\n\t},\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tPanels.prototype.create.apply(this, arguments);\n\t\tthis.set('animate', this.animate && MoonOptions.accelerate, true);\n\n\t\t// we need to ensure our handler has the opportunity to modify the flow during\n\t\t// initialization\n\t\tthis.showingChanged();\n\t\t// make other panel to spotlightDisabled without the initialPanel;\n\t\tthis.notifyPanels('initPanel');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.applyPattern();\n\t\tPanels.prototype.initComponents.apply(this, arguments);\n\t\tthis.isMoonAnimatorUsed = (this.$.animator instanceof MoonAnimator);\n\t\tthis.addBreadcrumb();\n\t\tthis.initializeShowHideHandle();\n\t\tthis.handleShowingChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tPanels.prototype.rendered.apply(this, arguments);\n\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\n\t\t// Direct hide if not showing and using handle\n\t\tif (this.useHandle === true) {\n\t\t\tif (this.showing) {\n\t\t\t\tthis._directShow();\n\t\t\t} else {\n\t\t\t\tthis._directHide();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttapped: function (oSender, oEvent) {\n\t\tif (oEvent.originator === this.$.showHideHandle || this.pattern === 'none' ||\n\t\t\tthis.transitioning === true || this.isModifyingPanels === true) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If tapped on breadcrambs area (which is located in the left side of panel)\n\t\tif (oEvent.originator === this.$.breadcrumbs) {\n\t\t\tif (this.showing && (this.useHandle === true) && this.handleShowing) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t} else {\n\t\t\t// If tapped on breadcrumb, go to that panel\n\t\t\tif (oEvent.breadcrumbTap && oEvent.index !== this.getIndex()) {\n\t\t\t\tthis.setIndex(oEvent.index);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* This takes action when the CustomizeCloseButton event is received. It accepts several event\n\t* properties, and in their absence resets each to its original value.\n\t*\n\t* Values:\n\t*   x - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*       This value is automatically inverted in RtL mode.\n\t*   y - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*   properties {Object} An object containing key/value pairs to be `set` on the close button.\n\t*   For example, this can be used to set the `showing` property of the close button. If present\n\t*   and an object, the `styles` member will be iterated through and each style will be applied\n\t*   individually and those styles with a `null` value will be removed.\n\t*\n\t* Ex:\n\t*    this.doCustomizeCloseButton({parameters: {showing: false});\n\t*\n\t* @private\n\t*/\n\thandleCustomizeCloseButton: function (sender, ev) {\n\t\tif (this.$.appClose) {\n\t\t\tthis.$.appClose.handleCustomizeCloseButton.apply(this.$.appClose, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* Given a direction and starting control, walks up the lineage chain until a suitable control to\n\t* spot has been found.\n\t*\n\t* @param {String} dir - The direction of movement.\n\t* @param {Object} control - The starting control.\n\t* @returns {Object} The target that should be spotted.\n\t* @private\n\t*/\n\tgetSpotlightTarget: function (dir, control) {\n\t\tvar ref = control,\n\t\t\ttarget,\n\t\t\tparent,\n\t\t\text;\n\n\t\t// Look at all of the NearestNeighbors up the lineage chain, until we find a good one.\n\t\twhile (!target) {\n\t\t\tif (!ref || ref instanceof Panel) break;\n\t\t\tparent = Spotlight.getParent(ref);\n\t\t\t// Add app close button as a child of Panel\n\t\t\tif (this.hasCloseButton && parent instanceof Panel) {\n\t\t\t\text = {extraCandidates: this.$.appClose};\n\t\t\t}\n\t\t\ttarget = Spotlight.NearestNeighbor.getNearestNeighbor(dir, ref, ext);\n\t\t\tref = parent;\n\t\t\text = null;\n\t\t}\n\n\t\treturn target;\n\t},\n\n\t/**\n\t* Considers whether or not the application close button should be spotted, and spots\n\t* accordingly, based on the given movement direction and originating control.\n\t*\n\t* @param {String} dir - The direction of movement.\n\t* @param {Object} orig - The originating control.\n\t* @returns {Boolean} If `true`, the application close button has been spotted; otherwise,\n\t*\t`false` is returned.\n\t* @private\n\t*/\n\tconsiderSpottingCloseButton: function (dir, orig) {\n\t\tvar target;\n\n\t\ttarget = this.getSpotlightTarget(dir, orig);\n\n\t\tif (target && target.parent instanceof ApplicationCloseButton) {\n\t\t\tSpotlight.spot(target);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightUp: function (sender, ev) {\n\t\treturn this.considerSpottingCloseButton('UP', ev.originator);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDown: function (sender, ev) {\n\t\treturn this.considerSpottingCloseButton('DOWN', ev.originator);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightLeft: function (sender, ev) {\n\t\tif (!this.preventKeyNavigation && !this.leftKeyToBreadcrumb && this.toIndex !== null) {\n\t\t\tthis.queuedIndex = this.toIndex - 1;\n\t\t\t//queuedIndex could have out boundary value. It will be managed in setIndex()\n\t\t}\n\t\tvar orig = ev.originator,\n\t\t\tidx = this.getPanelIndex(orig);\n\n\t\tif (this.considerSpottingCloseButton('LEFT', orig)) {\n\t\t\treturn true;\n\t\t} else if (orig instanceof Panel) {\n\t\t\tif (idx === 0) {\n\t\t\t\tif (!this.preventKeyNavigation && this.showing && (this.useHandle === true)\n\t\t\t\t\t\t&& this.handleShowing) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if (!this.leftKeyToBreadcrumb) {\n\t\t\t\tif (!this.preventKeyNavigation) {\n\t\t\t\t\tthis.previous();\n\t\t\t\t} else {\n\t\t\t\t\tSpotlight.spot(Spotlight.getLastControl());\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (sender instanceof ApplicationCloseButton && this.$.breadcrumbs) {\n\t\t\t\tSpotlight.spot(this.$.breadcrumbs);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRight: function (sender, ev) {\n\t\tif (!this.preventKeyNavigation && this.toIndex !== null) {\n\t\t\tthis.queuedIndex = this.toIndex + 1;\n\t\t\t//queuedIndex could have out boundary value. It will be managed in setIndex()\n\t\t}\n\t\tvar orig = ev.originator,\n\t\t\tidx = this.getPanelIndex(orig),\n\t\t\tnext = this.getPanels()[idx + 1];\n\n\t\tif (this.considerSpottingCloseButton('RIGHT', orig)) {\n\t\t\treturn true;\n\t\t} else if (next && orig instanceof Panel) {\n\t\t\tif (this.useHandle === true && this.handleShowing && idx == this.index) {\n\t\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!this.preventKeyNavigation) {\n\t\t\t\t\tthis.next();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightFromCloseButton: function (sender, ev) {\n\t\tvar p = this.getActive(),\n\t\t\tidx = this.getPanelIndex(p),\n\t\t\tdirection = ev.type.substring(11).toUpperCase(),\t\t// Derive direction from type\n\t\t\ttarget = Spotlight.NearestNeighbor.getNearestNeighbor(direction, ev.originator, {root: p});\n\n\t\tif (target) {\n\t\t\tSpotlight.spot(target);\n\t\t\treturn true;\n\t\t} else if (direction == 'RIGHT') {\n\t\t\tif (this.useHandle === true && this.handleShowing && idx == this.index) {\n\t\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (direction == 'LEFT') {\n\t\t\tthis.spotlightLeft(sender, {originator: p});\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightFocus: function (oSender, oEvent) {\n\t\tvar orig = oEvent.originator;\n\t\tvar idx = this.getPanelIndex(orig);\n\t\tif (orig.owner === this.$.appClose) {\n\t\t\tSpotlight.Container.setLastFocusedChild(this.getActive(), orig);\n\t\t}\n\t\tif (this.index !== idx && idx !== -1) {\n\t\t\tthis.setIndex(idx);\n\t\t}\n\t},\n\n\t/**\n\t* Responds to tap on show/hide handle.\n\t*\n\t* @private\n\t*/\n\thandleTap: function () {\n\t\tthis.setShowing(!this.showing);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleSpotLeft: function () {\n\t\tif (this.showing) {\n\t\t\tSpotlight.spot(this.getActive());\n\t\t} else {\n\t\t\tSpotlight.unspot();\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleSpotRight: function (sender, event) {\n\t\tif (this.showing) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleBlur: function (sender, event) {\n\t\tif (this.isHandleFocused) {\n\t\t\tthis.set('isHandleFocused', false);\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tif (!this.showing) {\n\t\t\t\t\tthis.sendPanelsHiddenSignal();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.resetHandleAutoHide();\n\t\tif (!this.showing) {\n\t\t\tSignals.send('onPanelsHandleBlurred');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsendPanelsHiddenSignal: function () {\n\t\tSignals.send('onPanelsHidden', {panels: this});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tresetHandleAutoHide: function (sender, event) {\n\t\tthis.startJob('autoHide', 'stashHandle', this.getAutoHideTimeout());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstopHandleAutoHide: function (sender, event) {\n\t\tthis.stopJob('autoHide');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstashHandle: function () {\n\t\tthis.$.showHideHandle.addRemoveClass('stashed', !this.showing);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tunstashHandle: function () {\n\t\tthis.stopHandleAutoHide();\n\t\tthis.$.showHideHandle.removeClass('stashed');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleFocused: function () {\n\t\tthis.unstashHandle();\n\t\tthis.startJob('autoHide', 'handleSpotLeft', this.getAutoHideTimeout());\n\t\tthis.set('isHandleFocused', true);\n\t\tSignals.send('onPanelsHandleFocused');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleShowingChanged: function () {\n\t\t//* show handle only when useHandle is true\n\t\tif (this.useHandle !== true) { return; }\n\t\tthis.$.showHideHandle.addRemoveClass('hidden', !this.handleShowing);\n\t\tthis.$.showHideHandle.spotlight = this.handleShowing;\n\t},\n\n\t/**\n\t* Called when focus enters one of the panels. If currently hiding and\n\t* `this.useHandle` is `true`, shows handle.\n\t*\n\t* @private\n\t*/\n\tonSpotlightPanelEnter: function () {\n\t\tif (!this.showing && (this.useHandle === true) && this.handleShowing ) {\n\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* Sets the index of the active panel, possibly transitioning the panel into view.\n\t*\n\t* @param {number} index - Index of the panel to make active.\n\t* @public\n\t*/\n\tsetIndex: function (index) {\n\t\tvar panels, toPanel;\n\n\t\t// Normally this.index cannot be smaller than 0 and larger than panels.length\n\t\t// However, if panels uses handle and there is sequential key input during transition\n\t\t// then index could have -1. It means that panels will be hidden.\n\t\tif (this.toIndex === null || this.useHandle === false) {\n\t\t\tindex = this.clamp(index);\n\t\t}\n\n\t\tif (index === this.index || this.toIndex != null) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear before start\n\t\tthis.queuedIndex = null;\n\t\tthis._willMove = null;\n\n\t\t// Set indexes before notify panels\n\t\tthis.fromIndex = this.index;\n\t\tthis.toIndex = index;\n\n\t\t// Turn on the close-x so it's ready for the next panel; if hasCloseButton is true\n\t\t// and remove spottability of close button during transitions.\n\t\tif (this.$.appClose) {\n\t\t\tif (this.hasNode()) this.$.appClose.customizeCloseButton({'spotlight': false});\n\t\t\tthis.$.appClose.set('showing', this.hasCloseButton);\n\t\t}\n\t\tthis.notifyPanels('initPanel');\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\n\t\t// Ensure any VKB is closed when transitioning panels\n\t\tthis.blurActiveElementIfHiding(index);\n\n\t\tif (this.cacheViews) {\n\t\t\tpanels = this.getPanels();\n\t\t\ttoPanel = panels[this.toIndex];\n\n\t\t\tif (!toPanel.generated) {\n\t\t\t\tif (this.toIndex < this.fromIndex) toPanel.addBefore = panels[this.fromIndex];\n\t\t\t\ttoPanel.render();\n\t\t\t}\n\t\t}\n\n\t\t// If panels will move for this index change, kickoff animation. Otherwise skip it.\n\t\tif (this.shouldAnimate()) {\n\t\t\tSpotlight.mute(this);\n\t\t\tthis.startTransition();\n\t\t\tthis.addClass('transitioning');\n\t\t}\n\n\t\tthis._setIndex(this.toIndex);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurActiveElementIfHiding: function (index) {\n\t\tvar activeElement = document.activeElement,\n\t\t\tactiveComponent = activeElement ? dispatcher.$[activeElement.id] : null,\n\t\t\tpanels = this.getPanels(),\n\t\t\tpanel,\n\t\t\tpanelInfo;\n\t\tif (activeComponent) {\n\t\t\tfor (var i = 0; i < panels.length; i++) {\n\t\t\t\tpanel = panels[i];\n\t\t\t\tif (activeComponent.isDescendantOf(panel)) {\n\t\t\t\t\tpanelInfo = this.getTransitionInfo(i, index);\n\t\t\t\t\tif (panelInfo.isOffscreen) {\n\t\t\t\t\t\tdocument.activeElement.blur();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* Returns `true` if the panels should animate in the transition from `fromIndex` to\n\t* `toIndex`.\n\t*\n\t* @private\n\t*/\n\tshouldAnimate: function () {\n\t\tif (this._willMove === null) {\n\t\t\t/*jshint -W093 */\n\t\t\treturn (this._willMove = this.animate && this.shouldArrange() && this.getAbsoluteShowing());\n\t\t\t/*jshint +W093 */\n\t\t}\n\t\telse {\n\t\t\treturn this._willMove;\n\t\t}\n\t},\n\n\t/**\n\t* Returns `true` if any panels will move in the transition from `fromIndex` to `toIndex`.\n\t*\n\t* @private\n\t*/\n\tshouldArrange: function () {\n\t\treturn this.layout.shouldArrange ? this.layout.shouldArrange(this.fromIndex, this.toIndex) : true;\n\t},\n\n\t/**\n\t*\n\t* @private\n\t*/\n\t_setIndex: function (index) {\n\t\tvar prev = this.get('index');\n\t\tthis.index = this.clamp(index);\n\t\t// Accessibility - Before reading the focused item, it must have a alert role for reading the title,\n\t\t// so setAlertRole() must be called before notifyObservers('index', prev, index).\n\t\tif (MoonOptions.accessibility) {\n\t\t\tthis.setAlertRole();\n\t\t}\n\t\tthis.notifyObservers('index', prev, index);\n\t},\n\n\t/**\n\t* Called when the arranger animation completes.\n\t*\n\t* @private\n\t*/\n\tanimationEnded: function () {\n\t\tif (this.animate) {\n\t\t\tthis.removeClass('transitioning');\n\t\t\tthis.completed();\n\t\t} else {\n\t\t\tPanels.prototype.animationEnded.apply(this, arguments);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetTransitionInfo: function (inPanelIndex) {\n\t\tvar to = (this.toIndex || this.toIndex === 0) ? this.toIndex : this.index,\n\t\t\tinfo = {};\n\t\tinfo.isOffscreen = (inPanelIndex != to);\n\t\tinfo.from = this.fromIndex;\n\t\tinfo.to = this.toIndex;\n\t\tinfo.index = inPanelIndex;\n\t\tinfo.animate = this.animate;\n\t\treturn info;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetBreadcrumbPositionInfo: function (bounds, containerBounds) {\n\t\tvar right = bounds ? bounds.right : null,\n\t\t\tleft = bounds ? bounds.left : null,\n\t\t\tpanelEdge = containerBounds ? containerBounds.right : null;\n\n\t\treturn {isOffscreen: (right == null || left == null || panelEdge == null || right <= 0 || left >= panelEdge)};\n\t},\n\n\t/**\n\t* Set index to breadcrumb to display number\n\t*\n\t* @private\n\t*/\n\tassignBreadcrumbIndex: function() {\n\t\tvar range = this.getBreadcrumbRange(),\n\t\t\tcontrol, i;\n\n\t\tif (this.pattern != 'none') {\n\t\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\t\tcontrol = this.getBreadcrumbForIndex(i);\n\t\t\t\tcontrol.set('index', i);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\taddBreadcrumb: function (forceRender) {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\t// If we have 1 panel then we don't need breadcrumb.\n\t\t// If we have more then 1 panel then we need panel - 1 number of breadcrumbs.\n\t\t// But, if we can only see 1 breadcrumb on screen like activity pattern\n\t\t// then we need 2 breadcrumbs to show animation.\n\t\tvar len = Math.max(2, Math.min(this.getPanels().length-1, this.getBreadcrumbMax()+1)),\n\t\t\tdefs = [],\n\t\t\tprevLen = this.getBreadcrumbs().length,\n\t\t\tbreadcrumbs, i;\n\n\t\tfor(i=0; i<len-prevLen; i++) {\n\t\t\tdefs[i] = {kind: Breadcrumb};\n\t\t}\n\t\tthis.$.breadcrumbs.createComponents(defs, {owner: this});\n\t\tif (forceRender) {\n\t\t\tbreadcrumbs = this.getBreadcrumbs();\n\t\t\tfor (i=prevLen; i<len; i++) {\n\t\t\t\tbreadcrumbs[i].render();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tremoveBreadcrumb: function () {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\t// If we have 1 panel then we don't need breadcrumb.\n\t\t// If we have more then 1 panel then we need panel - 1 number of breadcrumbs.\n\t\t// But, if we can only see 1 breadcrumb on screen like activity pattern\n\t\t// then we need 2 breadcrumbs to show animation.\n\t\tvar len = Math.max(2, Math.min(this.getPanels().length-1, this.getBreadcrumbMax()+1));\n\n\t\t// If we have more than the number of necessary breadcrumb then destroy.\n\t\twhile (this.getBreadcrumbs().length > len) {\n\t\t\tthis.getBreadcrumbs()[this.getBreadcrumbs().length-1].destroy();\n\t\t}\n\t},\n\n\t/**\n\t* Assign direction property on animator to select proper timing function.\n\t*\n\t* @private\n\t*/\n\tgetDirection: function() {\n\t\treturn  (this.fromIndex == this.toIndex) ? 'none' :\n\t\t\t\t(this.fromIndex < this.toIndex) ? 'forward' : 'backward';\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustFirstPanelBeforeTransition: function() {\n\t\tvar idx = this.index,\n\t\t\tfrom = this.fromIndex,\n\t\t\ttrans = this.transitioning;\n\t\tif (this.pattern == 'activity') {\n\t\t\t// Show breadcrumbs if we're landing on any panel besides the first\n\t\t\tthis.$.breadcrumbs.set('showing', idx > 0);\n\t\t\t// Adjust viewport to show full-width panel if we're landing on OR transitioning from the first panel\n\t\t\tthis.addRemoveClass('first', idx === 0 || (trans && from === 0));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustFirstPanelAfterTransition: function() {\n\t\t// Keep viewport adjusted for full-width panel only if we've landed on the first panel\n\t\tif (this.pattern == 'activity' && this.index !== 0) {\n\t\t\tthis.removeClass('first');\n\t\t}\n\t},\n\n\t/**\n\t* When index changes, make sure to update the breadcrumbed panel's `spotlight` property\n\t* (to avoid {@glossary Spotlight} issues).\n\t*\n\t* @private\n\t*/\n\tindexChanged: function (was) {\n\t\tvar current, delta, deltaAbs, idx;\n\n\t\tthis.adjustFirstPanelBeforeTransition();\n\n\t\tif (this.getPanels().length > 0) {\n\t\t\tthis.assignBreadcrumbIndex();\n\n\t\t\t// Set animation direction to use proper timing function before start animation\n\t\t\t// This direction is only consumed by MoonAnimator.\n\t\t\tthis.$.animator.direction = this.getDirection();\n\n\t\t\t// Push or drop history, based on the direction of the index change\n\t\t\tif (this.allowBackKey) {\n\t\t\t\twas = was || 0;\n\t\t\t\tdelta = this.index - was;\n\t\t\t\tdeltaAbs = Math.abs(delta);\n\n\t\t\t\tif (delta > 0) {\n\t\t\t\t\tfor (idx = 0; idx < deltaAbs; idx++) {\n\t\t\t\t\t\tthis.pushBackHistory(idx + was);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = EnyoHistory.peek();\n\n\t\t\t\t\t// ensure we have history to drop - if the first history entry's index corresponds\n\t\t\t\t\t// to the index prior to our current index, we assume the other entries exist\n\t\t\t\t\tif (current && current.index + 1 == was) {\n\t\t\t\t\t\tEnyoHistory.drop(deltaAbs);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tPanels.prototype.indexChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnotifyPanels: function (method) {\n\t\tvar panels = this.getPanels(),\n\t\t\tpanel, info, i;\n\t\tfor (i = 0; (panel = panels[i]); i++) {\n\t\t\tinfo = this.getTransitionInfo(i);\n\t\t\tif (panel[method]) {\n\t\t\t\tpanel[method](info);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnotifyBreadcrumbs: function (method) {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\tvar range = this.getBreadcrumbRange(),\n\t\t\tcontainerBounds = this.$.breadcrumbs.getAbsoluteBounds(),\n\t\t\tcontrol, bounds, info, i;\n\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\tcontrol = this.getBreadcrumbForIndex(i);\n\t\t\tbounds = control.getAbsoluteBounds();\n\t\t\tinfo = this.getBreadcrumbPositionInfo(bounds, containerBounds);\n\t\t\tif (control[method]) {\n\t\t\t\tcontrol[method](info);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tprocessPanelsToRemove: function(fromIndex, toIndex) {\n\t\tvar direction = toIndex < fromIndex ? -1 : 1,\n\t\t\tremoveFrom;\n\n\t\t// Remove panels that are no longer on screen\n\t\tif (this.cacheViews || (direction < 0 && this.popOnBack)) {\n\t\t\tremoveFrom = toIndex - direction;\n\t\t\tthis.popPanels(removeFrom, direction);\n\t\t}\n\t},\n\n\tprocessQueuedKey: function() {\n\t\t// queuedIndex becomes -1 when left key input is occurred\n\t\t// during transition from index 1 to 0.\n\t\t// We can hide panels if we use handle.\n\t\tif (this.queuedIndex === -1 && this.useHandle) {\n\t\t\tthis.hide();\n\t\t} else if (this.queuedIndex !== null) {\n\t\t\tthis.setIndex(this.queuedIndex);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfinishTransition: function () {\n\t\tvar fromIndex = this.fromIndex,\n\t\t\ttoIndex = this.toIndex,\n\t\t\tactive, current;\n\n\t\tthis.adjustFirstPanelAfterTransition();\n\t\tthis.notifyPanels('transitionFinished');\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\t\tPanels.prototype.finishTransition.apply(this, arguments);\n\t\tthis.processPanelsToRemove(fromIndex, toIndex);\n\t\tthis.processQueuedKey();\n\n\t\tSpotlight.unmute(this);\n\t\tactive = this.getActive();\n\t\tcurrent = Spotlight.getCurrent();\n\t\tif (!current || !current.isDescendantOf(active)) Spotlight.spot(active);\n\t\tthis.$.appClose && this.$.appClose.customizeCloseButton({'spotlight': true});  // Restore spotlightability of close button.\n\t},\n\n\t/**\n\t* Override the default `getShowing()` behavior to avoid setting `this.showing` based on the\n\t* CSS `display` property.\n\t*\n\t* @private\n\t*/\n\tgetShowing: function () {\n\t\treturn this.showing;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function (inOldValue) {\n\t\t// Accessibility - Before reading the focused item, it must have a alert role for reading the title,\n\t\t// so setAlertRole() must be called before Spotlight.spot\n\t\tif (MoonOptions.accessibility) {\n\t\t\tthis.setAlertRole();\n\t\t}\n\t\tif (this.$.backgroundScrim) {\n\t\t\tthis.$.backgroundScrim.addRemoveClass('visible', this.showing);\n\t\t}\n\t\tif (this.useHandle === true) {\n\t\t\tif (this.showing) {\n\t\t\t\tthis.unstashHandle();\n\t\t\t\tthis._show();\n\t\t\t\tSpotlight.spot(this.getActive());\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// in this case, our display flag will have been set to none so we need to clear\n\t\t\t\t// that even though the showing flag will remain false\n\t\t\t\tthis.applyStyle('display', null);\n\t\t\t\tthis.resetHandleAutoHide();\n\t\t\t\tthis._hide();\n\t\t\t}\n\t\t\tthis.sendShowingChangedEvent(inOldValue);\n\n\t\t\tif (this.$.appClose) this.$.appClose.set('showing', (this.showing && this.hasCloseButton));\n\t\t}\n\t\telse {\n\t\t\tPanels.prototype.showingChanged.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyPattern: function () {\n\t\tif (this.pattern != 'alwaysviewing') {\n\t\t\tthis.createChrome(this.applicationTools);\n\t\t\tthis.hasCloseButtonChanged();\n\t\t}\n\t\tswitch (this.pattern) {\n\t\tcase 'alwaysviewing':\n\t\tcase 'activity':\n\t\t\tthis.addClass(this.pattern);\n\t\t\tthis.useHandle = (this.useHandle === 'auto') ? (this.pattern == 'activity' ? false : true) : this.useHandle;\n\t\t\tthis.createChrome(this.handleTools);\n\t\t\tthis.tools = this.animatorTools;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthis.useHandle = false;\n\t\t\tthis.createChrome([{name: 'client', kind: Control, tag: null}]);\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitializeShowHideHandle: function () {\n\t\tif (this.useHandle === true) {\n\t\t\tthis.$.showHideHandle.canGenerate = true;\n\t\t\tthis.$.showHideHandle.spotlight = true;\n\t\t}\n\t},\n\n\t/**\n\t* Shows panels with transition from right.\n\t*\n\t* @private\n\t*/\n\t_show: function () {\n\t\tvar init = false;\n\t\tif (!this.hasNode()) {\n\t\t\tinit = true;\n\t\t} else {\n\t\t\tthis.$.showHideHandle.addClass('right');\n\t\t\tthis.applyShowAnimation();\n\t\t}\n\t\tSignals.send('onPanelsShown', {initialization: init, panels: this});\n\t},\n\n\t/**\n\t* Hides panels with transition to right.\n\t*\n\t* @private\n\t*/\n\t_hide: function () {\n\t\tif (!this.hasNode()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$.showHideHandle.removeClass('right');\n\t\tthis.applyHideAnimation();\n\t\tthis.sendPanelsHiddenSignal();\n\t},\n\n\t/**\n\t* Sets show state without animation.\n\t*\n\t* @private\n\t*/\n\t_directShow: function () {\n\t\tthis.$.showHideHandle.addClass('right');\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t\tthis.applyShowAnimation(true);\n\t},\n\n\t/**\n\t* Sets hide state without animation.\n\t*\n\t* @private\n\t*/\n\t_directHide: function () {\n\t\tthis.$.showHideHandle.addClass('hidden');\n\t\tthis.$.showHideHandle.removeClass('right');\n\t\tthis.applyHideAnimation(true);\n\t\tthis.hideAnimationComplete();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyShowAnimation: function (direct) {\n\t\tthis.$.clientWrapper.applyStyle('transition', direct ? null : 'transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tthis.$.clientWrapper.applyStyle('-webkit-transition', direct ? null : '-webkit-transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tdom.transform(this.$.clientWrapper, {translateX: 0});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyHideAnimation: function (direct) {\n\t\tthis.$.clientWrapper.applyStyle('transition', direct ? null : 'transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tthis.$.clientWrapper.applyStyle('-webkit-transition', direct ? null : '-webkit-transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tdom.transform(this.$.clientWrapper, {translateX: '100%'});\n\t},\n\n\t/**\n\t* Hide/show animation complete.\n\t*\n\t* @private\n\t*/\n\tshowHideAnimationComplete: function (sender, event) {\n\t\tswitch (event.animation.name) {\n\t\tcase 'show':\n\t\t\tthis.showAnimationComplete();\n\t\t\treturn true;\n\t\tcase 'hide':\n\t\t\tthis.hideAnimationComplete();\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowAnimationComplete: function () {\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thideAnimationComplete: function () {\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tanimateChanged: function () {\n\t\tthis.addRemoveClass('moon-composite', this.animate);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function (entry) {\n\t\tvar index = entry.index;\n\n\t\tif (this.transitioning) this.queuedIndex = index;\n\t\telse this.setIndex(index);\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thasCloseButtonChanged: function () {\n\t\tif (!this.$.appClose) return;\n\t\tthis.$.appClose.set('showing', (this.showing && this.hasCloseButton));\n\t\tthis.addRemoveClass('has-close-button', this.hasCloseButton);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpushBackHistory: function (index) {\n\t\tEnyoHistory.push({\n\t\t\tcontext: this,\n\t\t\thandler: this.backKeyHandler,\n\t\t\tindex: index\n\t\t});\n\n\t\treturn true;\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t// If panels is hidden and panelsHandle is spotlight blured, also make panelsHandle's dom blur.\n\t\t{path: 'isHandleFocused', method: function () {\n\t\t\tif (this.$.showHideHandle && this.$.showHideHandle.hasNode() && !this.isHandleFocused) {\n\t\t\t\tthis.$.showHideHandle.hasNode().blur();\n\t\t\t}\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tsetAlertRole: function () {\n\t\tvar panels = this.getPanels(),\n\t\t\tactive = this.getActive(),\n\t\t\tl = panels.length,\n\t\t\tpanel;\n\n\t\tif (this.$.showHideHandle) {\n\t\t\tif (active && active.title) {\n\t\t\t\tthis.$.showHideHandle.set('accessibilityLabel', (this.showing ? $L('Close') : $L('Open')) + ' ' + active.title);\n\t\t\t} else {\n\t\t\t\tthis.$.showHideHandle.set('accessibilityLabel', this.showing ? $L('Close') : $L('Open'));\n\t\t\t}\n\t\t}\n\n\t\twhile (--l >= 0) {\n\t\t\tpanel = panels[l];\n\t\t\tif (panel instanceof Panel && panel.title) {\n\t\t\t\tpanel.set('accessibilityRole', (panel === active) && this.get('showing') ? 'alert' : 'region');\n\t\t\t}\n\t\t}\n\t}\n\n});\n"]}